"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[40],{4040:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(65043),r=a(424),c=a(99442),t=a(97),o=a(15627),n=a(5397),i=a(48414),d=a(86178),m=a.n(d),u=a(44864),f=a(70579);let h="";const x=(0,c.y)((()=>{const e=(0,t.A)(),[s,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[x,p]=(0,l.useState)(!1),[b,j]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[g,w]=(0,l.useState)(!1),[y,_]=(0,l.useState)(!1),[P,S]=(0,l.useState)(""),[A,k]=(0,l.useState)(""),[C,O]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),[T,R]=(0,l.useState)(""),[q,I]=(0,l.useState)(""),[M,E]=(0,l.useState)(""),[L,z]=(0,l.useState)(""),[V,B]=(0,l.useState)(!1);function Y(){a(!0);try{fetch("".concat(u.u.MAIN_ENDPOINT,"/api/view-profile"),{method:"get",headers:{Authorization:"Bearer ".concat(h),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){z(e.data.role[0]),S(e.data.userProfle.firstname),k(e.data.userProfle.lastname),O(e.data.userProfle.email);var s=m()(e.data.userProfle.created_at).format("DD-MMMM-YYYY");F(s),a(!1)}))})).catch((function(e){a(!1)}))}catch(e){}a(!1)}return(0,l.useEffect)((()=>{V||(a(!0),setTimeout((()=>{Y()}),2e3),B(!0))}),[]),h=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,f.jsx)(l.Fragment,{children:1==s?(0,f.jsx)("div",{style:{marginLeft:"50%"},children:(0,f.jsx)("div",{className:" m-2",role:"status",children:(0,f.jsx)(n.A,{spinning:s,size:"large",tip:"Loading..."})})}):(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",children:[(0,f.jsx)(r.N_,{to:"/home",className:"pe-1 cursor-pointer",children:(0,f.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,f.jsx)("li",{className:"breadcrumb-item pe-3",children:"Profile"})]}),(0,f.jsx)(i.sT,{breadcrumbs:[],children:e.formatMessage({id:"MENU.DASHBOARD"})}),(0,f.jsx)("div",{className:"content d-flex flex-column flex-column-fluid",id:"kt_content",style:{marginTop:"1%"},children:(0,f.jsx)("div",{className:"post d-flex flex-column-fluid",id:"kt_post",children:(0,f.jsx)("div",{id:"kt_content_container",className:"container-xxl",children:(0,f.jsxs)("div",{className:"d-flex flex-column flex-lg-row",children:[(0,f.jsx)("div",{className:"flex-column flex-lg-row-auto w-lg-250px w-xl-350px mb-10",children:(0,f.jsx)("div",{className:"card mb-5 mb-xl-8",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsx)("div",{className:"d-flex flex-center flex-column py-5",children:(0,f.jsxs)("span",{className:"fs-3 text-gray-800 fw-bolder mb-3",children:[P," ",A]})})})})}),(0,f.jsxs)("div",{className:"flex-lg-row-fluid ms-lg-15",children:[(0,f.jsxs)("ul",{className:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-bold mb-8",children:[(0,f.jsx)("li",{className:"nav-item",children:(0,f.jsx)("a",{className:"nav-link text-active-primary pb-4 active","data-bs-toggle":"tab",href:"#kt_user_view_overview_tab",children:"Personal Information"})}),(0,f.jsx)("li",{className:"nav-item",children:(0,f.jsx)("a",{className:"nav-link text-active-primary pb-4","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#kt_user_view_overview_security",children:"Change Password"})})]}),(0,f.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,f.jsx)("div",{className:"tab-pane fade show active",id:"kt_user_view_overview_tab",role:"tabpanel",children:(0,f.jsxs)("div",{className:"card mb-5 mb-xl-10",children:[(0,f.jsx)("div",{className:"card-header border-0 cursor-pointer",children:(0,f.jsx)("div",{className:"card-title m-0",children:(0,f.jsx)("h3",{className:"fw-bolder m-0",children:"Profile Details"})})}),(0,f.jsx)("div",{id:"kt_account_profile_details",className:"collapse show",children:1==s?(0,f.jsx)(n.A,{spinning:s,size:"large",tip:"Loading"}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("form",{noValidate:!0,className:"form",onSubmit:function(e){if(e.preventDefault(),""!=P&&""!=A){a(!0);const e={firstname:"".concat(P),lastname:"".concat(A)};try{fetch("".concat(u.u.MAIN_ENDPOINT,"/api/update-profile"),{method:"Put",headers:{Authorization:"Bearer ".concat(h),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){Y(),a(!1),1==e.success?o.Ay.success(e.message):o.Ay.error(e.message)}))})).catch((function(e){a(!1)}))}catch(s){}}else""==P&&d(!0),""==A&&p(!0)},children:[(0,f.jsxs)("div",{className:"card-body border-top p-9",children:[(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Full Name"}),(0,f.jsx)("div",{className:"col-lg-8",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col-lg-6 fv-row",children:[(0,f.jsx)("input",{value:P,onChange:e=>S(e.target.value),onFocus:()=>d(!1),type:"text",className:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:"First name"}),1==c?(0,f.jsx)("span",{role:"alert",className:"text-danger",children:"Firstname is Required"}):null]}),(0,f.jsxs)("div",{className:"col-lg-6 fv-row",children:[(0,f.jsx)("input",{value:A,onChange:e=>k(e.target.value),onFocus:()=>p(!1),type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Last name"}),1==x?(0,f.jsx)("span",{role:"alert",className:"text-danger",children:"Lastname is Required"}):null]})]})})]}),(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label  fw-bold fs-6",children:"Email"}),(0,f.jsx)("div",{className:"col-lg-8 fv-row",children:(0,f.jsx)("input",{value:C,type:"email",className:"form-control form-control-lg ",placeholder:"Email",readOnly:!0,disabled:!0})})]}),(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:(0,f.jsx)("span",{children:"Role"})}),(0,f.jsx)("div",{className:"col-lg-8 fv-row",children:(0,f.jsx)("input",{value:L,type:"text",className:"form-control form-control-lg ",placeholder:"Register On",readOnly:!0,disabled:!0})})]}),(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:(0,f.jsx)("span",{children:"Register On"})}),(0,f.jsx)("div",{className:"col-lg-8 fv-row",children:(0,f.jsx)("input",{value:D,type:"text",className:"form-control form-control-lg ",placeholder:"Register On",readOnly:!0,disabled:!0})})]})]}),(0,f.jsx)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})})]})}),(0,f.jsx)("div",{className:"tab-pane fade",id:"kt_user_view_overview_security",role:"tabpanel",children:(0,f.jsxs)("div",{className:"card mb-5 mb-xl-10",children:[(0,f.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_signin_method",children:(0,f.jsx)("div",{className:"card-title m-0",children:(0,f.jsx)("h3",{className:"fw-bolder m-0",children:"Change Password"})})}),(0,f.jsx)("div",{id:"kt_account_profile_details",className:"collapse show",children:(0,f.jsxs)("form",{noValidate:!0,className:"form",onSubmit:function(e){if(e.preventDefault(),""!=T&&""!=q&&""!=M)if(q==M){a(!0);const e={old_password:"".concat(T),password:"".concat(q),confirm_password:"".concat(M)};try{fetch("".concat(u.u.MAIN_ENDPOINT,"/api/change-password"),{method:"Post",headers:{Authorization:"Bearer ".concat(h),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){e&&(R(""),I(""),E(""),a(!1),1==e.success?o.Ay.success(e.message):o.Ay.error(e.message))})),204==e.status&&(R(""),I(""),E(""),a(!1),o.Ay.error("Current Password is Incorrect ! "))})).catch((function(e){a(!1)}))}catch(s){}}else _(!0);else""==T&&j(!0),""==q&&v(!0),""==M&&w(!0)},id:"changepassword",children:[(0,f.jsxs)("div",{className:"card-body border-top p-9",children:[(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Current Password"}),(0,f.jsxs)("div",{className:"col-lg-8 fv-row",children:[(0,f.jsx)("input",{onChange:e=>R(e.target.value),onFocus:()=>j(!1),type:"password",className:"form-control form-control-lg form-control-solid",placeholder:" Current Password "}),1==b?(0,f.jsx)("span",{role:"alert",className:"text-danger",children:"Current Password is Required"}):null]})]}),(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:(0,f.jsx)("span",{className:"required",children:"New Password"})}),(0,f.jsxs)("div",{className:"col-lg-8 fv-row",children:[(0,f.jsx)("input",{onChange:e=>I(e.target.value),onFocus:()=>v(!1),type:"password",className:"form-control form-control-lg form-control-solid",placeholder:"New Password"}),1==N?(0,f.jsx)("span",{role:"alert",className:"text-danger",children:"New Password is Required"}):null]})]}),(0,f.jsxs)("div",{className:"row mb-6",children:[(0,f.jsx)("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:(0,f.jsx)("span",{className:"required",children:"Verify Password"})}),(0,f.jsxs)("div",{className:"col-lg-8 fv-row",children:[(0,f.jsx)("input",{onChange:e=>E(e.target.value),onFocus:()=>w(!1),type:"password",className:"form-control form-control-lg form-control-solid",placeholder:" Verify Password"}),1==g?(0,f.jsx)("span",{role:"alert",className:"text-danger",children:"Password is Required"}):null]})]})]}),1==y?(0,f.jsx)("span",{style:{marginLeft:"5%"},role:"alert",className:"text-danger",children:"New Password & Verify Password does not match"}):null,(0,f.jsx)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:(0,f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})]})})]})]})]})})})})]})})}))}}]);
//# sourceMappingURL=40.7df788fa.chunk.js.map