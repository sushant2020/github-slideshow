"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[79],{82079:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var r=a(65043),s=a(424),c=a(99442),o=a(94539),n=a(86178),l=a.n(n),i=a(44864),d=a(94406),p=a(30460),m=a(47419),u=a(11645),x=a(5397),h=a(10804),g=a(70579);const{Option:f}=d.A;let j="";function b(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}const v=(0,c.y)((function(e){const[t,a]=(0,r.useState)(b()),[c,n]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[N,A]=(0,r.useState)(""),[w,S]=(0,r.useState)([]),[_,I]=(0,r.useState)({}),[k,O]=(0,r.useState)([]),[P,C]=(0,r.useState)("Asc"),[D,G]=(0,r.useState)("Asc"),[R,E]=(0,r.useState)("Asc"),[z,T]=(0,r.useState)("Asc"),[M,F]=(0,r.useState)("Asc"),[Q,B]=(0,r.useState)("Asc"),[L,Y]=(0,r.useState)("Asc"),[J,W]=(0,r.useState)("Asc"),[H,U]=(0,r.useState)("Receipt_Date"),[$,q]=(0,r.useState)(1),[K,V]=(0,r.useState)(0),[X,Z]=(0,r.useState)(0);(0,r.useEffect)((()=>{void 0!=e.location.state&&localStorage.setItem("productId",e.location.state.prod_id),A(void 0!=e.location.state?e.location.state.prod_id:localStorage.getItem("productId"));let t=void 0!=e.location.state?e.location.state.prod_id:localStorage.getItem("productId");ee(t,$,H,K);const r=()=>{a(b())};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}),[]);const ee=(e,t,a,r)=>{f(!0);try{fetch("".concat(i.u.MAIN_ENDPOINT,"/api/get-prod-grn/").concat(void 0!=e?e:868,"/").concat(t,"/").concat(a,"/").concat(r),{method:"get",headers:{Authorization:"Bearer ".concat(j),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){S(e.data.grn),I(e.data.header),Z(e.data.rowCount),y(!1),f(!1)}))})).catch((function(e){n(!1)}))}catch(s){console.log("ERR>>>",s)}},te=e=>{switch(U(e),V(0==K?1:0),e){case"Grn_Qty":"Asc"==P?(ee(localStorage.getItem("productId"),$,e,K),C("Desc")):(ee(localStorage.getItem("productId"),$,e,K),C("Asc"));break;case"Product_Code":"Asc"==D?(ee(localStorage.getItem("productId"),$,e,K),G("Desc")):(ee(localStorage.getItem("productId"),$,e,K),G("Asc"));break;case"Product_Desc":"Asc"==R?(ee(localStorage.getItem("productId"),$,e,K),E("Desc")):(ee(localStorage.getItem("productId"),$,e,K),E("Asc"));break;case"Pack_Size":"Asc"==z?(ee(localStorage.getItem("productId"),$,e,K),T("Desc")):(ee(localStorage.getItem("productId"),$,e,K),T("Asc"));break;case"Supplier_Code":"Asc"==M?(ee(localStorage.getItem("productId"),$,e,K),F("Desc")):(ee(localStorage.getItem("productId"),$,e,K),F("Asc"));break;case"Grn_No":"Asc"==Q?(ee(localStorage.getItem("productId"),$,e,K),B("Desc")):(ee(localStorage.getItem("productId"),$,e,K),B("Asc"));break;case"Grn_Price":"Asc"==L?(ee(localStorage.getItem("productId"),$,e,K),Y("Desc")):(ee(localStorage.getItem("productId"),$,e,K),Y("Asc"));break;case"Receipt_Date":"Asc"==J?(ee(localStorage.getItem("productId"),$,e,K),W("Desc")):(ee(localStorage.getItem("productId"),$,e,K),W("Asc"))}};return j=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,g.jsx)(r.Fragment,{children:1==v?(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(p.A,{loading:v,active:!0}),(0,g.jsx)(p.A,{loading:v,active:!0}),(0,g.jsx)(p.A,{loading:v,active:!0})]}):(0,g.jsxs)(r.Fragment,{children:[t.width>850?(0,g.jsx)("div",{className:"row gy-5 gx-xl-4",children:(0,g.jsx)("div",{className:"card",children:k.length>0?(0,g.jsx)("div",{className:"card",tabIndex:1,children:(0,g.jsx)("div",{className:"table-responsive h-350px",children:k.map((e=>(0,g.jsx)("div",{className:"align-items-center mb-2 p-2",children:(0,g.jsx)("div",{className:"flex-grow-1 ",children:(0,g.jsxs)("button",{type:"button",className:"btn btn-md btn-light-primary",onClick:()=>(e=>{n(!0),O([]);let t=e;A(void 0!=t?t.prod_id:868),O([]),setTimeout((()=>{ee(t,$,H,K)}),1e3);try{fetch("".concat(i.u.MAIN_ENDPOINT,"/api/get-prod-grn/").concat(t.prod_id),{method:"get",headers:{Authorization:"Bearer ".concat(j),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){S(e.data.grn),I(e.data.header),O([]),n(!1)}))})).catch((function(e){console.log("Fetch Error :-S",e)}))}catch(a){console.log("ERR>>>",a)}})(e),children:[e.parent_product_code," \xa0\xa0\xa0\xa0"," ",e.clean_description]})})})))})}):null})}):null,(0,g.jsxs)(m.A,{style:{marginTop:"4%"},children:[(0,g.jsx)(u.A,{span:20,children:(0,g.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{margin:"1%"},children:[(0,g.jsx)(s.N_,{to:"/home",className:"pe-1",children:(0,g.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,g.jsx)(s.N_,{to:{pathname:"/product",state:{prod_id:N,data:_}},children:(0,g.jsx)("li",{className:"breadcrumb-item pe-1",children:"Product"})}),"/\xa0",(0,g.jsx)("li",{className:"breadcrumb-item pe-3",children:"GRN"})]})}),(0,g.jsx)(u.A,{children:(0,g.jsx)(s.N_,{to:{pathname:"/product",state:{prod_id:N,data:_}},children:(0,g.jsx)("button",{className:"btn btn-sm btn-primary ",children:"Back To Product"})})})]}),t.width>800?(0,g.jsx)(r.Fragment,{children:(0,g.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,g.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,g.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between ",children:(0,g.jsx)("a",{className:"btn btn-outline btn-outline-dashed m-1",style:{cursor:"text"},children:(0,g.jsxs)("span",{className:"card-label fs-2 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[_.parent_product_code," ",(0,g.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2 ",children:"Aggregate Code"})]})})}),""==_.clean_description?(0,g.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between"}):(0,g.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between",children:(0,g.jsxs)("a",{className:"btn btn-outline btn-outline-dashed m-1",style:{cursor:"text"},children:[" ",(0,g.jsx)("span",{className:"card-label fs-2 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:_.clean_description})]})}),(0,g.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between",children:(0,g.jsx)("a",{className:"btn btn-outline btn-outline-dashed m-1",style:{cursor:"text"},children:(0,g.jsxs)("span",{className:"card-label fs-2 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[_.dt_pack," ",(0,g.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2",children:"DT Pack"})]})})})]})})}):null,(0,g.jsx)("div",{className:"row gy-5 g-xl-10",style:{marginTop:"20px"}}),(0,g.jsxs)("div",{className:"row g-5 gx-xl-8",children:[(0,g.jsx)("div",{className:"col-xl-12",children:(0,g.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,g.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,g.jsxs)("div",{className:"card",children:[(0,g.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,g.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,g.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"GRN"})}),(0,g.jsx)("div",{className:"card-toolbar"})]}),(0,g.jsx)("div",{className:"card-body py-3 table-align-left",children:(0,g.jsx)("div",{className:"table-responsive h-600px table-scroll",children:(0,g.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>{te("Product_Code")},children:["Product Code","Desc"!=D?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>{te("Product_Desc")},children:["Product Description","Desc"!=R?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>te("Pack_Size"),children:["Pack Size","Desc"!=z?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>te("Supplier_Code"),children:["Supplier Code","Desc"!=M?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>te("Grn_No"),children:["GRN No","Desc"!=Q?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-70px",onClick:()=>te("Grn_Price"),children:["GRN Price","Desc"!=L?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-70px ",onClick:()=>te("Grn_Qty"),children:["GRN Qty","Desc"!=P?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,g.jsxs)("th",{className:"min-w-100px cursor-pointer ",onClick:()=>te("Receipt_Date"),children:["Reciept Date","Desc"!=J?(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,g.jsx)(o.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]})]})}),1==d?(0,g.jsx)("div",{className:"spin_example",children:(0,g.jsx)(x.A,{size:"large",tip:"Loading...",spinning:d})}):(0,g.jsx)("tbody",{children:void 0!=w&&w.map((e=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:(0,g.jsx)(s.N_,{to:{pathname:"/product",state:{prod_id:e.Product_Id_Main,data:_}},children:(0,g.jsx)("span",{className:"text-danger fw-bolder text-hover-primary d-block fs-6 text-decoration-underline link",children:e.Product_Code})})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Product_Desc})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Pack_Size})}),(0,g.jsx)("td",{children:(0,g.jsxs)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:[e.Supplier_Id_Main," ",e.Supplier_Code]})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_No})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:"."==e.Grn_Price.charAt(0)?"0"+e.Grn_Price:e.Grn_Price})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_Qty})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:l()(e.Receipt_Date).format("DD-MMM-YYYY")})})]})))})]})})})]})})})}),(0,g.jsx)(h.A,{defaultCurrent:$,size:"small",defaultPageSize:30,total:X,onChange:t=>{let a=void 0!=e.location.state?e.location.state.prod_id:localStorage.getItem("productId");ee(a,t,H,K),q(t)},style:{margin:"2%"},showQuickJumper:!0,hideOnSinglePage:!0,showSizeChanger:!1})]})]})})}))},11645:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(30227).A},95150:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(65043).createContext)({})},30227:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(64467),s=a(58168),c=a(82284),o=a(98139),n=a.n(o),l=a(65043),i=a(35296),d=a(95150),p=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};var m=["xs","sm","md","lg","xl","xxl"];const u=l.forwardRef((function(e,t){var a=l.useContext(i.QO),o=a.getPrefixCls,u=a.direction,x=l.useContext(d.A),h=x.gutter,g=x.wrap,f=x.supportFlexGap,j=e.prefixCls,b=e.span,v=e.order,y=e.offset,N=e.push,A=e.pull,w=e.className,S=e.children,_=e.flex,I=e.style,k=p(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),O=o("col",j),P={};m.forEach((function(t){var a={},o=e[t];"number"===typeof o?a.span=o:"object"===(0,c.A)(o)&&(a=o||{}),delete k[t],P=(0,s.A)((0,s.A)({},P),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(O,"-").concat(t,"-").concat(a.span),void 0!==a.span),"".concat(O,"-").concat(t,"-order-").concat(a.order),a.order||0===a.order),"".concat(O,"-").concat(t,"-offset-").concat(a.offset),a.offset||0===a.offset),"".concat(O,"-").concat(t,"-push-").concat(a.push),a.push||0===a.push),"".concat(O,"-").concat(t,"-pull-").concat(a.pull),a.pull||0===a.pull),"".concat(O,"-rtl"),"rtl"===u))}));var C=n()(O,(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(O,"-").concat(b),void 0!==b),"".concat(O,"-order-").concat(v),v),"".concat(O,"-offset-").concat(y),y),"".concat(O,"-push-").concat(N),N),"".concat(O,"-pull-").concat(A),A),w,P),D={};if(h&&h[0]>0){var G=h[0]/2;D.paddingLeft=G,D.paddingRight=G}if(h&&h[1]>0&&!f){var R=h[1]/2;D.paddingTop=R,D.paddingBottom=R}return _&&(D.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(_),!1!==g||D.minWidth||(D.minWidth=0)),l.createElement("div",(0,s.A)({},k,{style:(0,s.A)((0,s.A)({},D),I),className:C,ref:t}),S)}))},28821:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(58168),s=a(64467),c=a(82284),o=a(5544),n=a(98139),l=a.n(n),i=a(65043),d=a(35296),p=a(46058),m=a(19304),u=a(29592),x=a(95150),h=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};(0,u.P)("top","middle","bottom","stretch"),(0,u.P)("start","end","center","space-around","space-between","space-evenly");function g(e,t){var a=i.useState("string"===typeof e?e:""),r=(0,o.A)(a,2),s=r[0],n=r[1];return i.useEffect((function(){!function(){if("string"===typeof e&&n(e),"object"===(0,c.A)(e))for(var a=0;a<m.ye.length;a++){var r=m.ye[a];if(t[r]){var s=e[r];if(void 0!==s)return void n(s)}}}()}),[JSON.stringify(e),t]),s}const f=i.forwardRef((function(e,t){var a=e.prefixCls,n=e.justify,u=e.align,f=e.className,j=e.style,b=e.children,v=e.gutter,y=void 0===v?0:v,N=e.wrap,A=h(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),w=i.useContext(d.QO),S=w.getPrefixCls,_=w.direction,I=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),k=(0,o.A)(I,2),O=k[0],P=k[1],C=i.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),D=(0,o.A)(C,2),G=D[0],R=D[1],E=g(u,G),z=g(n,G),T=(0,p.A)(),M=i.useRef(y);i.useEffect((function(){var e=m.Ay.subscribe((function(e){R(e);var t=M.current||0;(!Array.isArray(t)&&"object"===(0,c.A)(t)||Array.isArray(t)&&("object"===(0,c.A)(t[0])||"object"===(0,c.A)(t[1])))&&P(e)}));return function(){return m.Ay.unsubscribe(e)}}),[]);var F=S("row",a),Q=function(){var e=[void 0,void 0];return(Array.isArray(y)?y:[y,void 0]).forEach((function(t,a){if("object"===(0,c.A)(t))for(var r=0;r<m.ye.length;r++){var s=m.ye[r];if(O[s]&&void 0!==t[s]){e[a]=t[s];break}}else e[a]=t})),e}(),B=l()(F,(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},"".concat(F,"-no-wrap"),!1===N),"".concat(F,"-").concat(z),z),"".concat(F,"-").concat(E),E),"".concat(F,"-rtl"),"rtl"===_),f),L={},Y=null!=Q[0]&&Q[0]>0?Q[0]/-2:void 0,J=null!=Q[1]&&Q[1]>0?Q[1]/-2:void 0;if(Y&&(L.marginLeft=Y,L.marginRight=Y),T){var W=(0,o.A)(Q,2);L.rowGap=W[1]}else J&&(L.marginTop=J,L.marginBottom=J);var H=(0,o.A)(Q,2),U=H[0],$=H[1],q=i.useMemo((function(){return{gutter:[U,$],wrap:N,supportFlexGap:T}}),[U,$,N,T]);return i.createElement(x.A.Provider,{value:q},i.createElement("div",(0,r.A)({},A,{className:B,style:(0,r.A)((0,r.A)({},L),j),ref:t}),b))}))},47419:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(28821).A}}]);
//# sourceMappingURL=79.9236ce35.chunk.js.map