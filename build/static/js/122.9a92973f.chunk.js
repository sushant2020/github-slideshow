"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[122],{17116:(e,t,a)=>{a.d(t,{O:()=>o,i:()=>l});var n=a(44864);const r=JSON.parse(localStorage.getItem("portalUserDataToken")||""),o=e=>new Promise(((t,a)=>{try{fetch("".concat(n.u.MAIN_ENDPOINT).concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(r),Accept:"application/json","Content-Type":"application/json"}}).then((e=>{e.json().then((function(e){t(e)}))})).catch((function(e){console.log("Request failed",e)}))}catch(o){console.log("ERR>>>",o)}})),l=(e,t)=>new Promise(((a,o)=>{try{fetch("".concat(n.u.MAIN_ENDPOINT).concat(e),{method:"Post",headers:{Authorization:"Bearer ".concat(r),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{e.json().then((function(e){a(e)}))})).catch((function(e){console.log("Request failed",e)}))}catch(l){console.log("ERR>>>",l)}}))},8122:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var n=a(65043),r=a(44864),o=a(50289),l=a(15627),s=a(64435),i=a(89421),c=a(35696),d=a(92584),p=a(25676),h=a(67289),u=a(10804),m=a(82217),A=a(47419),x=a(11645),f=a(3428),y=a(78186),g=a(60521),C=a(50525),j=a(86178),E=a.n(j),O=a(75337),S=a(67407),T=a(17116),N=a(69223),v=a.n(N),I=a(57284),R=a(424),b=a(70579);const k=()=>{let[e]=o.A.useForm();const[t,a]=(0,n.useState)([]),[j,N]=(0,n.useState)(!1),[k,P]=(0,n.useState)(1),[w,D]=(0,n.useState)(0),[F,_]=(0,n.useState)("BUYER"),[L,B]=(0,n.useState)(1),[H,Y]=(0,n.useState)(!1),[U,V]=(0,n.useState)(!1),[M,W]=(0,n.useState)({}),[G,z]=(0,n.useState)([]),[X,Z]=(0,n.useState)([]),[K,q]=(0,n.useState)({}),[J,Q]=(0,n.useState)({}),[$,ee]=(0,n.useState)(""),[te,ae]=(0,n.useState)({}),[ne,re]=(0,n.useState)(!1),[oe,le]=(0,n.useState)(""),[se,ie]=(0,n.useState)({}),[ce,de]=(0,n.useState)(!1),[pe,he]=(0,n.useState)(""),[ue,me]=(0,n.useState)(null),[Ae,xe]=(0,n.useState)(!0);let[fe,ye]=(0,n.useState)({AAH:!1,BESTWAY:!1,COLORAMA:!1,PHOENIX:!1,TRIDENT:!1}),[ge,Ce]=(0,n.useState)({AAH:null,BESTWAY:null,COLORAMA:null,PHOENIX:null,TRIDENT:null});const[je,Ee]=(0,n.useState)({columnKey:"AsOfDate",order:"ascend"});(0,n.useEffect)((()=>{Ie()}),[F,je,k,L]);let Oe="";const Se=t=>{console.log(t,"recordrecordrecord"),Y(!0);let a=[],n={};e.resetFields(["PHOENIX","TRIDENT","AAH","COLORAMA","BESTWAY","phoenix_note","trident_note","aah_note","colorama_note","bestway_note"]),t.phoenix.name="PHOENIX",t.trident.name="TRIDENT",t.aah.name="AAH",t.colorama.name="COLORAMA",t.bestway.name="BESTWAY",a.push(t.phoenix),a.push(t.trident),a.push(t.aah),a.push(t.colorama),a.push(t.bestway);let r={};for(let e=0;e<a.length;e++){const t=a[e];r[t.name]=t,console.log(t,"elementelementelement"),fe[t.name]=1==t.outofstock,z((()=>[...G,t.name])),Z((()=>[...X,t.name])),n[t.name]=t.price}q(n),W(r),Q(t),ee(t.ProductAC4),ae(a),re(!0),Y(!1)},Te=()=>{re(!1),W({}),Q({}),ee(""),ae([])},Ne=(e,t)=>{e.preventDefault(),fe[t]=e.target.checked,z((()=>[...G,e.target.checked]))},ve=async t=>{try{await e.validateFields(["stockAAH","AAH","BESTWAY","COLORAMA","PHOENIX","TRIDENT"]);let a=new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"2-digit",day:"2-digit"}).format(Date.now()).split("/"),n=a[2]+-+a[1]+-+a[0];if(J&&n){let e={asofdate:n,phoenix:t.PHOENIX?t.PHOENIX:null,trident:t.TRIDENT?t.TRIDENT:null,aah:t.AAH?t.AAH:null,colorama:t.COLORAMA?t.COLORAMA:null,bestway:t.BESTWAY?t.BESTWAY:null,phoenix_outofstock:fe.PHOENIX?1:0,trident_outofstock:fe.TRIDENT?1:0,aah_outofstock:fe.AAH?1:0,colorama_outofstock:fe.COLORAMA?1:0,bestway_outofstock:fe.BESTWAY?1:0,phoenix_note:t.phoenix_note?t.phoenix_note:null,trident_note:t.trident_note?t.trident_note:null,aah_note:t.aah_note?t.aah_note:null,colorama_note:t.colorama_note?t.colorama_note:null,bestway_note:t.bestway_note?t.bestway_note:null,product_id:J.product_id,group:"BUYER"==F?1:"PRESET"==F?2:"BUYERWATCHLIST"==F?4:"UNDERCOSTLINE"==F?7:6,watchlist_id:J.watchlist_id},a="/api/price-review",r=await(0,T.i)(a,e);r&&r.data&&r.data&&(r.data&&r.success?(l.Ay.success(r.message),Ie()):l.Ay.error(r.message))}e.resetFields(["AAH","BESTWAY","COLORAMA","PHOENIX","TRIDENT"]),ye({AAH:!1,BESTWAY:!1,COLORAMA:!1,PHOENIX:!1,TRIDENT:!1}),Ce({AAH:null,BESTWAY:null,COLORAMA:null,PHOENIX:null,TRIDENT:null})}catch(a){console.error("Validation error:",a)}re(!1)},Ie=async()=>{xe(!0),Y(!0),await fetch("".concat(r.u.MAIN_ENDPOINT,"/api/").concat("BUYER"==F&&1==L?"get-competitor-pricing-buyerset":"BUYER"==F&&2==L?"get-competitor-pricing-buyerset-historical":"PRESET"==F?"get-competitor-pricing-preset":"BUYERWATCHLIST"==F?"get-competitor-pricing-buyer-watchlist":"JAYLESHBHAI"==F?"get-competitor-pricing-preset-jayleshbhai":"get-undercost-lines","/").concat(k,"/").concat(je&&je.columnKey?je.columnKey:"AsOfDate","/").concat("BUYERS"==F&&1==L?"ascend"==je.order?1:0:"ascend"==je.order?0:1),{method:"get",headers:{Authorization:"Bearer ".concat(Oe),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&a([]),e.json().then((function(e){1==e.success&&(a(e.data.products),D(e.data.rowCnt))}))})).catch((function(e){console.log("Fetch Error :-S",e)})),Y(!1)},Re=[{title:"ACTION",key:"action",fixed:!0,width:100,hidden:2==L,render:(e,t)=>(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(s.A,{size:"middle",children:[(0,b.jsx)(i.A,{type:"primary",disabled:!(!t||!(t.aah&&t.aah.price||t.bestway&&t.bestway.price||t.colorama&&t.colorama.price||t.phoenix&&t.phoenix.price||t.trident&&t.trident.price||"Search"==oe)),onClick:()=>Se(t),icon:(0,b.jsx)(O.A,{})}),(0,b.jsx)(i.A,{type:"primary",onClick:()=>Se(t),icon:(0,b.jsx)(S.A,{}),disabled:!t||!(t.aah&&t.aah.price||t.bestway&&t.bestway.price||t.colorama&&t.colorama.price||t.phoenix&&t.phoenix.price||t.trident&&t.trident.price||"Search"==oe)})]})})},{title:"DATE",dataIndex:"AsOfDate",key:"AsOfDate",width:120,fixed:!0,sorter:!0,render:e=>e?E()(e).format("DD-MMM-YYYY"):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"DESCRIPTION",dataIndex:"ProductDesc",key:"ProductDesc",width:200,sorter:!0,fixed:!0},{title:"PACK",dataIndex:"PackSize",key:"PackSize",sorter:!0,width:100,fixed:!0},{title:"Ranking",dataIndex:"Ranking",key:"Ranking",width:100},{title:"AGG CODE",dataIndex:"ProductAC4",key:"ProductAC4",sorter:!0,width:100},{title:"PROD CODE",dataIndex:"SPOTCode",key:"SPOTCode",sorter:!0,width:100,render:(e,t)=>(0,b.jsx)(c.A,{placement:"topLeft",title:"View Historical Pricing",children:(0,b.jsx)(R.N_,{to:{pathname:"/product-details",state:{prod_id:t.ProductAC4,spotid:t.SPOTCode,spotCode:e}},children:e})})},{title:"Cost",dataIndex:"Cost",key:"Cost",width:100,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"}),sorter:!0},{title:"True Cost",dataIndex:"TrueCost",key:"TrueCost",width:100,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"}),sorter:!0},{title:"Avg Cost",dataIndex:"AvgCost",key:"AvgCost",width:100,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"}),sorter:!0},{title:"Avg Vol",dataIndex:"AvgVol",key:"AvgVol",width:100,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"}),sorter:!0},{title:"COMPETITOR",children:[{},{title:"PHONEX",dataIndex:"phoenix",key:"phoenix",sorter:!0,width:100,render:e=>e?(0,b.jsx)("p",{style:{color:e&&1==e.outofstock?"red":"#000"},children:e.price||(0,b.jsx)(b.Fragment,{children:"-"})}):e},{title:"TRIDENT",dataIndex:"trident",key:"trident",sorter:!0,width:100,render:e=>e?(0,b.jsx)("p",{style:{color:e&&1==e.outofstock?"red":"#000"},children:e.price||(0,b.jsx)(b.Fragment,{children:"-"})}):e},{title:"AAH",dataIndex:"aah",key:"aah",sorter:!0,width:100,render:e=>e?(0,b.jsx)("p",{style:{color:e&&1==e.outofstock?"red":"#000"},children:e.price||(0,b.jsx)(b.Fragment,{children:"-"})}):e},{title:"COLORAMA",dataIndex:"colorama",key:"colorama",sorter:!0,width:100,render:e=>e?(0,b.jsx)("p",{style:{color:e&&1==e.outofstock?"red":"#000"},children:e.price||(0,b.jsx)(b.Fragment,{children:"-"})}):e},{title:"BESTWAY",dataIndex:"bestway",key:"bestway",sorter:!0,width:100,render:e=>e?(0,b.jsx)("p",{style:{color:e&&1==e.outofstock?"red":"#000"},children:e.price||(0,b.jsx)(b.Fragment,{children:"-"})}):e}]},{title:"CONTRACTS",children:[{title:"RRP",dataIndex:"RRP",key:"RRP",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"ATOZ",dataIndex:"ATOZ",key:"ATOZ",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"87",dataIndex:"c87",key:"c87",sorter:!0,width:100,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"122",dataIndex:"c122",key:"c122",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"DC",dataIndex:"DC",key:"DC",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"DG",dataIndex:"DG",key:"DG",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"RH",dataIndex:"RH",key:"RH",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"RBS",dataIndex:"RBS",key:"RBS",width:100,sorter:!0,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})}]},{title:"SENSITIVITY",dataIndex:"sensitivity",key:"sensitivity",width:100,sorter:!0},{title:"Broken rule",dataIndex:"BrokenRule",key:"BrokenRule",sorter:!0,editable:!1,hidden:"UNDERCOSTLINE"!=F,width:200,render:e=>e?I.A.addZero(e):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"Buyer Comments",dataIndex:"buyer_comments",key:"buyer_comments",width:300,sorter:!0,render:e=>e?(0,b.jsx)(b.Fragment,{children:e}):(0,b.jsx)(b.Fragment,{children:"-"})},{title:"Supplier Comments",dataIndex:"supplier_comments",key:"supplier_comments",width:300,sorter:!0,render:e=>e?(0,b.jsx)(b.Fragment,{children:e}):(0,b.jsx)(b.Fragment,{children:"-"})}].filter((e=>!e.hidden)),be=()=>{N(!1)},ke=e=>{le("Search"==e?"Search":"Export Data"),N(!j)},Pe=async(t,n)=>{try{await e.validateFields(["enddate","prodcode","startdate"]);if("Search"==oe){Y(!0);let e={};if(t&&!t.prodcode&&!t.enddate&&!t.startdate)return void N(!1);if(se&&(e=t),t&&t.prodcode&&(e={...e,prodcode:t.prodcode,group:"BUYER"==F?1:"PRESET"==F?2:"BUYERWATCHLIST"==F?4:"UNDERCOSTLINE"==F?7:6}),t&&t.enddate&&t.startdate){const a=we(t.startdate),n=we(t.enddate);e={...e,sdate:a,edate:n,group:"BUYER"==F?1:"PRESET"==F?2:"BUYERWATCHLIST"==F?4:"UNDERCOSTLINE"==F?7:6}}let r="/api/search-competitor-pricing/".concat(n,"/AsOfDate/0"),o=await(0,T.i)(r,e);ie(e),o&&o.data&&o.data&&(xe(!1),D(o.data.rowCnt),o.data.products.length>=0&&(xe(!1),a(o.data.products))),Y(!1)}else De(t);N(!1),e.resetFields(["enddate","startdate","prodcode"])}catch(r){console.error("Validation error:",r)}},we=e=>{const t=new Date(e),a=t.getFullYear(),n=("0"+(t.getMonth()+1)).slice(-2),r=("0"+t.getDate()).slice(-2);return"".concat(a,"-").concat(n,"-").concat(r)},De=async e=>{let t={};if(e&&e.enddate&&e.startdate){const a=we(e.startdate),n=we(e.enddate);t={...t,sdate:a,edate:n,group:"BUYER"==F?1:"PRESET"==F?2:"BUYERWATCHLIST"==F?4:"UNDERCOSTLINE"==F?7:6}}let a=await(0,T.i)("/api/download-competitor-pricing",t);if(console.log(a,"downloadDatadownloadDatadownloadData"),null!==a&&void 0!==a&&a.error&&"No any competitor pricing data found"==(null===a||void 0===a?void 0:a.error))return void l.Ay.error("downloadData.error");let n=[];Object.keys(a.data).map((e=>{let t=e.split("-"),r={RANKING:"".concat(t[2],"-").concat(t[1],"-").concat(t[0]),AGGCODE:"",PRODCODE:"",DESCRIPTION:"",COST:"","TRUE COST":"","AVG COST":"","AVG VOL":"",PACK:"",PHOENIX:"",TRIDENT:"",AAH:"",COLORAMA:"",BESTWAY:"",SENSITIVITY:""};n.push(r),a.data[e].map((e=>{let t={RANKING:e.Ranking,"AGG CODE":e.ProductAC4,"PROD CODE":e.SPOTCode,DESCRIPTION:e.ProductDesc,COST:e.Cost,TRUECOST:e.TrueCost,AVGCOST:e.AvgCost,AVGVOL:e.AvgVol,PACK:e.PackSize,PHOENIX:"string"==typeof e.phoenix?e.phoenix:"",TRIDENT:"string"==typeof e.trident?e.trident:"",AAH:"string"==typeof e.aah?e.aah:e.aah.price,COLORAMA:"string"==typeof e.colorama?e.colorama:"",BESTWAY:"string"==typeof e.bestway?e.bestway:"",SENSITIVITY:e.sensitivity,aah_outofstock:e.aah_outofstock,colorama_outofstock:e.colorama_outofstock,phoenix_outofstock:e.phoenix_outofstock,trident_outofstock:e.trident_outofstock,bestway_outofstock:e.bestway_outofstock};n.push(t)}))})),Fe(n)},Fe=async e=>{const t=new(v().Workbook),a=t.addWorksheet("Sheet1"),n=["RANKING","AGG CODE","PROD CODE","DESCRIPTION","COST","TRUE COST","AVG COST","AVG VOL","PACK","PHOENIX","TRIDENT","AAH","COLORAMA","BESTWAY","SENSITIVITY"];a.addRow(n),e.forEach((e=>{const{RANKING:t,"AGG CODE":r,"PROD CODE":o,DESCRIPTION:l,COST:s,TRUECOST:i,AVGCOST:c,AVGVOL:d,PACK:p,PHOENIX:h,TRIDENT:u,AAH:m,COLORAMA:A,BESTWAY:x,SENSITIVITY:f}=e,y=[t,r,o,l,s,i,c,d,p,h,u,m,A,x,f],g=a.addRow(y),C=n.indexOf("AAH")+1,j=n.indexOf("PHOENIX")+1,E=n.indexOf("TRIDENT")+1,O=n.indexOf("COLORAMA")+1,S=n.indexOf("BESTWAY")+1;e&&e.aah_outofstock&&1==e.aah_outofstock&&(g.getCell(C).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF00"}}),e&&e.phoenix_outofstock&&1==e.phoenix_outofstock&&(g.getCell(j).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF00"}}),e&&e.trident_outofstock&&1==e.trident_outofstock&&(g.getCell(E).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF00"}}),e&&e.bestway_outofstock&&1==e.bestway_outofstock&&(g.getCell(S).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF00"}}),e&&e.colorama_outofstock&&1==e.colorama_outofstock&&(g.getCell(O).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFF00"}})}));const r=await t.xlsx.writeBuffer(),o=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(o);var s=document.createElement("a");s.href=l,s.setAttribute("download","PriceReview".concat(".xlsx")),s.click()},_e=(e,t)=>{var a=t;E()(a).unix();E()(a).add(1439,"m").format("LLL");de(!1)},Le=(t,a)=>{var n=a;E()(n).unix();e.resetFields(["toDate"]),he(a),me(void 0),de(!0)},Be=e=>e>E()(),He=(e,t)=>{let a=E()();const n=E()(t).startOf("day"),r=E()(t).add(1,"months").endOf("day");return e<n||e>r||e>a};return Oe=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"pt-4 m-2",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"card-body py-3 ",children:[(0,b.jsxs)("div",{className:"row m-4 p-2",children:[(0,b.jsx)("div",{className:"col-4",children:(0,b.jsx)("div",{className:"card-toolbar",style:{width:"100%"},children:(0,b.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,b.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"Sigma Competitor Price Review"})})})}),(0,b.jsx)("div",{className:"col-4",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(c.A,{placement:"topLeft",title:"Notify Pricer",children:(0,b.jsx)(d.A,{title:"Are you sure? Do you want to mark watchlist as completed and notify Pricer?",onConfirm:async()=>{V(!0);let e={list_type:"BUYER"==F?1:"PRESET"==F?2:"BUYERWATCHLIST"==F?4:"UNDERCOSTLINE"==F?7:6,type:"4",dataCount:t.length};await fetch("".concat(r.u.MAIN_ENDPOINT,"/api/notify-user"),{method:"post",headers:{Authorization:"Bearer ".concat(Oe),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){1==e.success&&(l.Ay.success(e.message),Ie())}))})).catch((function(e){})),V(!1)},okText:"Yes",cancelText:"No",children:(0,b.jsx)(i.A,{type:"primary",loading:U,children:"Notify Pricer"})})})})}),(0,b.jsx)("div",{className:"col-4",children:(0,b.jsxs)("div",{id:"outer",children:[(0,b.jsxs)("div",{className:"inner p-1",children:[(0,b.jsx)(i.A,{type:"primary",onClick:()=>{ke("Search")},children:"Search"})," ",(0,b.jsx)(i.A,{type:"primary",onClick:()=>{Ie()},children:"Reset"}),"\xa0",(0,b.jsx)(i.A,{type:"primary",onClick:()=>ke("export_data"),children:"Export Data"})]}),(0,b.jsx)("div",{className:"inner p-1"})]})})]}),(0,b.jsxs)("ul",{className:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-bold mb-8 main-table",children:[(0,b.jsx)("li",{className:"nav-item",children:(0,b.jsx)("a",{className:"nav-link text-active-primary pb-4 active","data-bs-toggle":"tab",href:"#BUYER",onClick:()=>{_("BUYER"),P(1)},children:"BUYER INTEL"})}),(0,b.jsx)("li",{className:"nav-item",children:(0,b.jsx)("a",{className:"nav-link text-active-primary pb-4","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#BUYERWATCHLIST",onClick:()=>{_("BUYERWATCHLIST"),P(1)},children:"BUYER WATCHLIST"})}),(0,b.jsx)("li",{className:"nav-item",children:(0,b.jsx)("a",{className:"nav-link text-active-primary pb-4","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#PRESET",onClick:()=>{_("PRESET"),P(1)},children:"PRESET FOR OFFICE-DAILY"})}),(0,b.jsx)("li",{className:"nav-item",children:(0,b.jsx)("a",{className:"nav-link text-active-primary pb-4","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#PRESETFORJAYLESHBHAI",onClick:()=>{_("JAYLESHBHAI"),P(1)},children:"PRESET FOR OFFICE - TWICE A WEEK"})}),(0,b.jsx)("li",{className:"nav-item",children:(0,b.jsx)("a",{className:"nav-link text-active-primary pb-4","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#UNDERCOSTLINE",onClick:()=>{_("UNDERCOSTLINE"),P(1)},children:"UNDERCOST LINES"})})]}),(0,b.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,b.jsx)("div",{className:"tab-pane fade show active ",id:F,role:"tabpanel",children:"BUYER"==F?(0,b.jsx)(p.A,{defaultActiveKey:"1",onChange:e=>{B(e),P(1)},items:new Array(2).fill(null).map(((a,n)=>{const r=String(n+1);return{label:"1"==r?"Current":"Historical",key:r,children:(0,b.jsxs)(b.Fragment,{children:[" ",(0,b.jsx)(h.A,{columns:Re,dataSource:t,loading:H,onChange:(e,t,a,n)=>{Ee({...a})},scroll:{x:2100,y:"auto"},pagination:!1}),(0,b.jsxs)("div",{className:"row text-end m-4",children:[(0,b.jsx)(u.A,{defaultCurrent:k,defaultPageSize:10,current:k,total:w,onChange:e=>{P(e)},hideOnSinglePage:!0,showSizeChanger:!1}),(0,b.jsx)(m.A,{title:$||"Update Price",open:ne,onCancel:()=>Te(),footer:null,destroyOnClose:!0,style:{right:"-400px"},width:700,children:(0,b.jsxs)(o.A,{form:e,onFinish:ve,children:[(0,b.jsxs)(A.A,{children:[(0,b.jsx)(x.A,{span:6,children:(0,b.jsx)("p",{children:"Competitor Name"})}),(0,b.jsx)(x.A,{span:4,children:(0,b.jsx)("p",{children:"Price"})}),(0,b.jsx)(x.A,{span:2,children:(0,b.jsx)("p",{children:"OOS"})}),(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)("p",{children:"Notes"})}),te&&te.length>0&&M&&te.map((e=>(console.log(M,te,"111"),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.A,{span:6,children:(0,b.jsx)("p",{children:e.name})}),M&&te&&G&&(0,b.jsx)(x.A,{span:4,children:(0,b.jsx)(o.A.Item,{initialValue:e.price?e.price:null,name:e.name,rules:[{required:!1,message:"Please input Product Price!"}],children:(0,b.jsx)(f.A,{placeholder:" ---",min:0,className:"custom-input",style:{fontWeight:"600 !important"}})})}),(0,b.jsx)(x.A,{span:2,children:(0,b.jsxs)(o.A.Item,{name:"stock"+e.name,rules:[{required:!1,message:"Please input Product Stock!"}],children:[0==fe[e.name]&&(0,b.jsx)(y.A,{checked:!!fe[e.name]&&fe[e.name],onChange:t=>Ne(t,e.name)}),1==fe[e.name]&&G&&(0,b.jsx)(y.A,{checked:!!fe[e.name]&&fe[e.name],onChange:t=>Ne(t,e.name)})]})}),M&&te&&G&&(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{initialValue:e.note&&null!=e.note&&""!=e.note?e.note:null,name:e.name.toLowerCase()+"_note",rules:[{required:!1,message:"Please input notes!"}],children:(0,b.jsx)(g.A,{placeholder:" ",className:"custom-input",style:{fontWeight:"600 !important"}})})})]}))))]}),(0,b.jsx)(o.A.Item,{children:(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(i.A,{htmlType:"submit",type:"primary",className:"get-report-btn",style:{color:"#fff"},children:"Submit"})})})]})}),(0,b.jsx)(m.A,{title:oe,open:j,onCancel:be,footer:null,children:(0,b.jsxs)(o.A,{form:e,onFinish:e=>Pe(e,1),children:[(0,b.jsx)("p",{children:"You Can Select Date Range 1 Month."}),(0,b.jsxs)(A.A,{children:[(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{label:"Start Date",name:"startdate",rules:[{required:!1,message:"Please input Start date!"}],children:(0,b.jsx)(C.A,{className:"rangePickerMobile",style:{width:"100%"},allowClear:!1,onChange:Le,disabledDate:Be})})}),(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{label:"End Date",name:"enddate",initialValue:void 0,rules:[{required:!1,message:"Please input End date!"}],children:(0,b.jsx)(C.A,{className:"rangePickerMobile",style:{width:"100%"},allowClear:!1,onChange:_e,disabledDate:e=>He(e,pe),open:ce})})}),"Search"==oe&&(0,b.jsx)(x.A,{span:20,children:(0,b.jsx)(o.A.Item,{label:" Product Code",name:"prodcode",rules:[{required:!1,message:"Please input Product Code!"}],children:(0,b.jsx)(g.A,{placeholder:"Product Code"})})})]}),(0,b.jsx)(o.A.Item,{children:(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(i.A,{htmlType:"submit",type:"primary",className:"get-report-btn",style:{color:"#fff"},children:"Search"==oe?"Search":"Download"})})})]})})]})]})}}))}):(0,b.jsxs)(b.Fragment,{children:[" ",(0,b.jsx)(h.A,{columns:Re,dataSource:t,loading:H,onChange:(e,t,a,n)=>{Ee({...a})},scroll:{x:2100,y:"auto"},pagination:!1}),(0,b.jsxs)("div",{className:"row text-end m-4",children:[(0,b.jsx)(u.A,{defaultCurrent:k,defaultPageSize:10,current:k,total:w,onChange:e=>{P(e)},hideOnSinglePage:!0,showSizeChanger:!1}),(0,b.jsx)(m.A,{title:$||"Update Price",open:ne,onCancel:()=>Te(),footer:null,destroyOnClose:!0,style:{right:"-400px"},width:700,children:(0,b.jsxs)(o.A,{form:e,onFinish:ve,children:[(0,b.jsxs)(A.A,{children:[(0,b.jsx)(x.A,{span:6,children:(0,b.jsx)("p",{children:"Competitor Name"})}),(0,b.jsx)(x.A,{span:4,children:(0,b.jsx)("p",{children:"Price"})}),(0,b.jsx)(x.A,{span:2,children:(0,b.jsx)("p",{children:"OOS"})}),(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)("p",{children:"Notes"})}),te&&te.length>0&&M&&te.map((e=>(console.log(M,te,"111"),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.A,{span:6,children:(0,b.jsx)("p",{children:e.name})}),M&&te&&G&&(0,b.jsx)(x.A,{span:4,children:(0,b.jsx)(o.A.Item,{initialValue:e.price?e.price:null,name:e.name,rules:[{required:!1,message:"Please input Product Price!"}],children:(0,b.jsx)(f.A,{placeholder:" ---",min:0,className:"custom-input",style:{fontWeight:"600 !important"}})})}),(0,b.jsx)(x.A,{span:2,children:(0,b.jsxs)(o.A.Item,{name:"stock"+e.name,rules:[{required:!1,message:"Please input Product Stock!"}],children:[0==fe[e.name]&&(0,b.jsx)(y.A,{checked:!!fe[e.name]&&fe[e.name],onChange:t=>Ne(t,e.name)}),1==fe[e.name]&&G&&(0,b.jsx)(y.A,{checked:!!fe[e.name]&&fe[e.name],onChange:t=>Ne(t,e.name)})]})}),M&&te&&G&&(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{initialValue:e.note&&null!=e.note&&""!=e.note?e.note:null,name:e.name.toLowerCase()+"_note",rules:[{required:!1,message:"Please input notes!"}],children:(0,b.jsx)(g.A,{placeholder:" ",className:"custom-input",style:{fontWeight:"600 !important"}})})})]}))))]}),(0,b.jsx)(o.A.Item,{children:(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(i.A,{htmlType:"submit",type:"primary",className:"get-report-btn",style:{color:"#fff"},children:"Submit"})})})]})}),(0,b.jsx)(m.A,{title:oe,open:j,onCancel:be,footer:null,children:(0,b.jsxs)(o.A,{form:e,onFinish:e=>Pe(e,1),children:[(0,b.jsx)("p",{children:"You Can Select Date Range 1 Month."}),(0,b.jsxs)(A.A,{children:[(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{label:"Start Date",name:"startdate",rules:[{required:!1,message:"Please input Start date!"}],children:(0,b.jsx)(C.A,{className:"rangePickerMobile",style:{width:"100%"},allowClear:!1,onChange:Le,disabledDate:Be})})}),(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)(o.A.Item,{label:"End Date",name:"enddate",initialValue:void 0,rules:[{required:!1,message:"Please input End date!"}],children:(0,b.jsx)(C.A,{className:"rangePickerMobile",style:{width:"100%"},allowClear:!1,onChange:_e,disabledDate:e=>He(e,pe),open:ce})})}),"Search"==oe&&(0,b.jsx)(x.A,{span:20,children:(0,b.jsx)(o.A.Item,{label:" Product Code",name:"prodcode",rules:[{required:!1,message:"Please input Product Code!"}],children:(0,b.jsx)(g.A,{placeholder:"Product Code"})})})]}),(0,b.jsx)(o.A.Item,{children:(0,b.jsx)("div",{className:"d-flex justify-content-end",children:(0,b.jsx)(i.A,{htmlType:"submit",type:"primary",className:"get-report-btn",style:{color:"#fff"},children:"Search"==oe?"Search":"Download"})})})]})})]})]})})})]})})})})}},57284:(e,t,a)=>{a.d(t,{A:()=>r});class n{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}n.addZero=e=>{if(null==e)return e;{const t=e;if(!t||""==t||null==t)return;return"."==(null===t||void 0===t?void 0:t.charAt(0))?"0"+t:e}};const r=n},67407:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(89379),r=a(65043);const o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var l=a(22172),s=function(e,t){return r.createElement(l.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:o}))};const i=r.forwardRef(s)},92584:(e,t,a)=>{a.d(t,{A:()=>v});var n=a(58168),r=a(5544),o=a(51376),l=a(98139),s=a.n(l),i=a(28678),c=a(25001),d=a(65043),p=a(35296),h=function(e){return e?"function"===typeof e?e():e:null},u=a(83290),m=a(35696),A=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},x=function(e){var t=e.title,a=e.content,n=e.prefixCls;return d.createElement(d.Fragment,null,t&&d.createElement("div",{className:"".concat(n,"-title")},h(t)),d.createElement("div",{className:"".concat(n,"-inner-content")},h(a)))};const f=d.forwardRef((function(e,t){var a=e.prefixCls,r=e.title,o=e.content,l=e._overlay,s=e.placement,i=void 0===s?"top":s,c=e.trigger,h=void 0===c?"hover":c,f=e.mouseEnterDelay,y=void 0===f?.1:f,g=e.mouseLeaveDelay,C=void 0===g?.1:g,j=e.overlayStyle,E=void 0===j?{}:j,O=A(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),S=d.useContext(p.QO).getPrefixCls,T=S("popover",a),N=S(),v=d.useMemo((function(){return l||(r||o?d.createElement(x,{prefixCls:T,title:r,content:o}):null)}),[l,r,o,T]);return d.createElement(m.A,(0,n.A)({placement:i,trigger:h,mouseEnterDelay:y,mouseLeaveDelay:C,overlayStyle:E},O,{prefixCls:T,ref:t,overlay:v,transitionName:(0,u.by)(N,"zoom-big",O.transitionName)}))}));var y=a(12701),g=a(89421),C=a(83085),j=a(38046),E=a(38097),O=a(8376),S=function(e){var t=e.prefixCls,a=e.okButtonProps,r=e.cancelButtonProps,o=e.title,l=e.cancelText,s=e.okText,i=e.okType,c=e.icon,u=e.showCancel,m=void 0===u||u,A=e.close,x=e.onConfirm,f=e.onCancel,y=d.useContext(p.QO).getPrefixCls;return d.createElement(E.A,{componentName:"Popconfirm",defaultLocale:O.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},c&&d.createElement("span",{className:"".concat(t,"-message-icon")},c),d.createElement("div",{className:"".concat(t,"-message-title")},h(o))),d.createElement("div",{className:"".concat(t,"-buttons")},m&&d.createElement(g.A,(0,n.A)({onClick:f,size:"small"},r),null!==l&&void 0!==l?l:e.cancelText),d.createElement(j.A,{buttonProps:(0,n.A)((0,n.A)({size:"small"},(0,C.D)(i)),a),actionFn:x,close:A,prefixCls:y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==s&&void 0!==s?s:e.okText)))}))},T=void 0,N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};const v=d.forwardRef((function(e,t){var a=e.prefixCls,l=e.placement,h=void 0===l?"top":l,u=e.trigger,m=void 0===u?"click":u,A=e.okType,x=void 0===A?"primary":A,g=e.icon,C=void 0===g?d.createElement(o.A,null):g,j=e.children,E=e.overlayClassName,O=e.onOpenChange,v=e.onVisibleChange,I=N(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),R=d.useContext(p.QO).getPrefixCls,b=(0,i.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),k=(0,r.A)(b,2),P=k[0],w=k[1],D=function(e,t){w(e,!0),null===v||void 0===v||v(e,t),null===O||void 0===O||O(e,t)},F=R("popover",a),_=R("popconfirm",a),L=s()(_,E);return d.createElement(f,(0,n.A)({},I,{trigger:m,prefixCls:F,placement:h,onOpenChange:function(t){var a=e.disabled;void 0!==a&&a||D(t)},open:P,ref:t,overlayClassName:L,_overlay:d.createElement(S,(0,n.A)({okType:x,icon:C},e,{prefixCls:F,close:function(e){D(!1,e)},onConfirm:function(t){var a;return null===(a=e.onConfirm)||void 0===a?void 0:a.call(T,t)},onCancel:function(t){var a;D(!1,t),null===(a=e.onCancel)||void 0===a||a.call(T,t)}}))}),(0,y.Ob)(j,{onKeyDown:function(e){var t,a;d.isValidElement(j)&&(null===(a=null===j||void 0===j?void 0:(t=j.props).onKeyDown)||void 0===a||a.call(t,e)),function(e){e.keyCode===c.A.ESC&&P&&D(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=122.9a92973f.chunk.js.map