"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[110],{33110:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(65043),l=a(48414),c=a(43024),n=a(44864),r=a(15627),i=a(30460),o=a(44650),d=a.n(o),m=a(70579);let h="";const u=()=>{const{setLayout:e}=(0,l.gK)(),[s,a]=(0,t.useState)("Header"),[o,u]=(0,t.useState)((0,l.bP)()),[p,x]=(0,t.useState)(!1),[j,b]=(0,t.useState)(!1),[N,g]=(0,t.useState)(1),[f,v]=(0,t.useState)(""),[y,k]=(0,t.useState)({}),[S,w]=(0,t.useState)({}),[A,_]=(0,t.useState)(!1),[C,T]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{!function(){T(!0);try{fetch("".concat(n.u.MAIN_ENDPOINT,"/api/settings"),{method:"get",headers:{Authorization:"Bearer ".concat(h),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){let s=new Array;e.data.settings.map((e=>{s.push(e)})),k(s[0]),w(s[1]),v(e.data.settings[0].meta_value),g(e.data.settings[1].meta_value),T(!1)}))})).catch((function(e){}))}catch(e){console.log("ERR>>>",e)}}()}),[]),h=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,m.jsx)(m.Fragment,{children:1==C?(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsx)(i.A,{loading:C,active:!0}),(0,m.jsx)(i.A,{loading:C,active:!0}),(0,m.jsx)(i.A,{loading:C,active:!0})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"card card-custom",children:[(0,m.jsx)("div",{className:"card-header card-header-stretch overflow-auto",children:(0,m.jsx)("ul",{className:"nav nav-stretch nav-line-tabs fw-bold border-transparent flex-nowrap",role:"tablist",children:(0,m.jsx)("li",{className:"nav-item",children:(0,m.jsx)("a",{className:(0,c.A)("nav-link",{active:"Header"===s}),onClick:()=>a("Header"),role:"tab",children:"Settings"})})})}),(0,m.jsxs)("form",{className:"form",children:[(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"tab-content pt-3",children:(0,m.jsxs)("div",{className:(0,c.A)("tab-pane",{active:"Header"===s}),children:[(0,m.jsxs)("div",{className:"row mb-10",children:[(0,m.jsxs)("label",{className:"col-lg-3 col-form-label text-lg-end",children:[y.name," :"," "]}),(0,m.jsx)("div",{className:"col-lg-9 col-xl-4",children:(0,m.jsxs)("div",{className:"fv-row mb-10",children:[(0,m.jsx)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:(0,m.jsx)("input",{className:"form-control",type:"text",onChange:e=>v(e.target.value),value:f})}),1==A&&(0,m.jsxs)("span",{role:"alert",className:"text-danger",children:[" ","Please enter a valid email address"," "]})]})})]}),(0,m.jsxs)("div",{className:"row mb-10",children:[(0,m.jsxs)("label",{className:"col-lg-3 col-form-label text-lg-end",children:[S.name," :"]}),(0,m.jsx)("div",{className:"col-lg-9 col-xl-4",children:(0,m.jsxs)("label",{className:"form-check form-check-custom form-check-solid form-switch mb-5",children:[(0,m.jsx)("input",{className:"form-range-control slider",type:"range",value:N,min:"1",max:21,onChange:e=>{g(e.target.value)}}),(0,m.jsx)("span",{className:"form-check-label text-dark",children:N})]})})]})]})})}),(0,m.jsx)("div",{className:"card-footer py-6",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-lg-3"}),(0,m.jsxs)("div",{className:"col-lg-9",children:[(0,m.jsxs)("button",{type:"button",onClick:function(){if(d().isEmail(f)){_(!1),x(!0);let s={admin_email:f,visited_pline_default_expiry:N};try{fetch("".concat(n.u.MAIN_ENDPOINT,"/api/update-settings"),{method:"post",headers:{Authorization:"Bearer ".concat(h),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){200==e.status&&e.json().then((function(e){r.Ay.success(e.message),x(!1)}))})).catch((function(e){}))}catch(e){console.log("ERR>>>",e)}}else _(!0)},className:"btn btn-primary me-2",children:[!p&&(0,m.jsx)("span",{className:"indicator-label",children:"Save"}),p&&(0,m.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,m.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]}),(0,m.jsxs)("button",{type:"button",id:"kt_layout_builder_reset",className:"btn btn-active-light btn-color-muted",onClick:()=>{b(!0);const e=setTimeout((()=>{b(!1)}),1e3);clearTimeout(e)},children:[!j&&(0,m.jsx)("span",{className:"indicator-label",children:"Cancel"}),j&&(0,m.jsxs)("span",{className:"indicator-progress",style:{display:"block"},children:["Please wait..."," ",(0,m.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]})})]})]})})})},p=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.sT,{breadcrumbs:[],children:"Layout Builder"}),(0,m.jsx)(u,{})]})}}]);
//# sourceMappingURL=110.36d9d42e.chunk.js.map