"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[447],{32447:(e,s,a)=>{a.r(s),a.d(s,{default:()=>j});var t=a(65043),r=a(97),o=a(99442),c=a(424),l=a(94539),i=a(48414),n=a(30460),d=a(5397),m=a(10804),p=(a(5766),a(44864)),u=a(70579);let h="",x="";const j=(0,o.y)((()=>{const e=(0,r.A)(),s=(0,o.W6)(),[a,j]=(0,t.useState)(!1),[N,b]=(0,t.useState)([]),[g,C]=(0,t.useState)([]),[v,w]=(0,t.useState)([]),[S,f]=(0,t.useState)([]),[y,A]=(0,t.useState)(1),[_,k]=(0,t.useState)(1),[D,O]=(0,t.useState)(1),[L,z]=(0,t.useState)("Supplier_Code"),[E,I]=(0,t.useState)("Customer_Code"),[T,P]=(0,t.useState)(1),[R,F]=(0,t.useState)(!1),[J,M]=(0,t.useState)("Asc"),[B,U]=(0,t.useState)("Asc"),[H,Q]=(0,t.useState)("Asc"),[W,q]=(0,t.useState)("Asc"),[G,K]=(0,t.useState)("Asc"),[V,X]=(0,t.useState)("Suppliers");function Y(e,s,a){try{fetch("".concat(p.u.MAIN_ENDPOINT,"/api/suppliers/").concat(e,"/").concat(s,"/").concat(a),{method:"get",headers:{Authorization:"Bearer ".concat(x),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){b(e.data.suppliers),w(e.data.suppliers),k(e.data.rowCnt),F(!1),j(!1)}))})).catch((function(e){console.log("Fetch Error :-S",e),F(!1),j(!1)}))}catch(t){console.log("ERR>>>",t)}}function Z(e,s,a){try{fetch("".concat(p.u.MAIN_ENDPOINT,"/api/customers/").concat(e,"/").concat(s,"/").concat(a),{method:"get",headers:{Authorization:"Bearer ".concat(x),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){C(e.data.customers),f(e.data.customers),O(e.data.rowCnt),F(!1),j(!1)}))})).catch((function(e){console.log("Fetch Error :-S",e),F(!1),j(!1)}))}catch(t){console.log("ERR>>>",t)}}function $(e){F(!0),A(e),"Customers"==V?Z(y,E,T):Y(y,L,T)}function ee(e){if(F(!0),"Supplier_Code"==e){if("Asc"===J)return P(1),Y(y,L,T),void M("Desc");if("Desc"===J)return P(0),Y(y,L,T),void M("Asc")}"Supplier_Name"==e&&("Asc"==H&&(P(1),Y(y,L,T),Q("Desc")),"Desc"==H&&(P(0),Y(y,L,T),Q("Asc")))}function se(e){if(F(!0),"Customer_Code"==e){if("Asc"===B)return P(1),Z(y,E,T),void U("Desc");if("Desc"===B)return P(0),Z(y,E,T),void U("Asc")}"Customer_Name"==e&&("Asc"==W&&(P(1),Z(y,E,T),q("Desc")),"Desc"==W&&(P(0),Z(y,E,T),q("Asc")))}return(0,t.useEffect)((()=>{h&&h.includes("Administrator")?(M("Asc"),U("Asc"),P(1),j(!0),F(!0),Y(y,L,T),Z(y,E,T)):s.push({pathname:"/home"})}),[]),x=JSON.parse(localStorage.getItem("portalUserDataToken")||""),h=JSON.parse(localStorage.getItem("portalUserDataRole")||""),(0,u.jsx)(t.Fragment,{children:1==a?(0,u.jsx)(t.Fragment,{children:(0,u.jsx)(n.A,{loading:a,active:!0})}):(0,u.jsxs)(t.Fragment,{children:[(0,u.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{margin:"1%"},children:[(0,u.jsx)(c.N_,{to:"/home",className:"pe-1 cursor-pointer",children:(0,u.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,u.jsx)("li",{className:"breadcrumb-item pe-3",children:"Supplier List"})]}),(0,u.jsx)(i.sT,{breadcrumbs:[],children:e.formatMessage({id:"MENU.DASHBOARD"})}),(0,u.jsx)("div",{className:"row g-5 gx-xxl-8",style:{marginTop:"1%"},children:(0,u.jsx)("div",{className:"col-xl-12",children:(0,u.jsxs)("div",{className:"card ",children:[(0,u.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,u.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,u.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"Suppliers"})}),(0,u.jsx)("div",{className:"card-toolbar",style:{width:"30%"},children:(0,u.jsx)("input",{type:"search",onChange:function(e){let s=e.target.value,a=new Array;"Customers"==V?(g.map(((e,t)=>{(e.Customer_Code.toLowerCase().includes(s.toLowerCase())||e.Customer_Name.toLowerCase().includes(s.toLowerCase()))&&a.push(e)})),C(a),""==s&&C(S)):(N.map(((e,t)=>{(e.Supplier_Code.toLowerCase().includes(s.toLowerCase())||e.Supplier_Name.toLowerCase().includes(s.toLowerCase()))&&a.push(e)})),b(a),""==s&&b(v))},className:"form-control form-control-solid",placeholder:"Suppliers"==V?"Search by Supplier Code / Name ":"Search by Customer Code / Name "})}),(0,u.jsx)("div",{className:"card-toolbar","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover"})]}),(0,u.jsxs)("div",{className:"card-body py-3 ",children:[(0,u.jsxs)("ul",{className:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-bold mb-8",children:[(0,u.jsx)("li",{className:"nav-item",children:(0,u.jsx)("a",{className:"nav-link text-active-primary pb-4 active","data-bs-toggle":"tab",href:"#latestPO",onClick:()=>X("Suppliers"),children:"Supplier"})}),(0,u.jsx)("li",{className:"nav-item",children:(0,u.jsx)("a",{className:"nav-link text-active-primary pb-4 ","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#historicalPO",onClick:()=>X("Customers"),children:"Customer"})})]}),(0,u.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,u.jsxs)("div",{className:"tab-pane fade show active",id:"latestPO",role:"tabpanel",children:[(0,u.jsx)("div",{className:"table-responsive h-550px table-scroll",children:(0,u.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,u.jsx)("th",{className:"w-25px"}),(0,u.jsxs)("th",{className:"min-w-200px ",onClick:()=>ee("Supplier_Code"),children:["Code","Desc"!=J?(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,u.jsxs)("th",{className:"min-w-300px text-start",onClick:()=>ee("Supplier_Name"),children:["Name","Desc"!=H?(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]})]})}),1==R?(0,u.jsx)("div",{className:"spin_example",children:(0,u.jsx)(d.A,{size:"large",tip:"Loading...",spinning:R})}):(0,u.jsx)("tbody",{children:void 0!=N&&N.map(((e,s)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:(0,u.jsx)(c.N_,{to:{pathname:"/supplier",state:{id:e.Supplier_Id,name:e.Supplier_PostCOde,code:e.Supplier_Name}},children:(0,u.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Supplier_Code})})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Supplier_Name})}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{})]})))})]})}),(0,u.jsx)(m.A,{defaultCurrent:y,total:_,onChange:$,style:{margin:"2%"},current:y,showQuickJumper:!0,showSizeChanger:!1,pageSize:30})]}),(0,u.jsxs)("div",{className:"tab-pane fade show ",id:"historicalPO",role:"tabpanel",children:[(0,u.jsx)("div",{className:"table-responsive h-550px table-scroll",children:(0,u.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,u.jsx)("th",{className:"w-25px"}),(0,u.jsxs)("th",{className:"min-w-200px ",onClick:()=>se("Customer_Code"),children:["Code","Desc"!=B?(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,u.jsxs)("th",{className:"min-w-300px text-start",onClick:()=>se("Customer_Name"),children:["Name","Desc"!=W?(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,u.jsx)(l.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]})]})}),1==R?(0,u.jsx)("div",{className:"spin_example",children:(0,u.jsx)(d.A,{size:"large",tip:"Loading...",spinning:R})}):(0,u.jsx)("tbody",{children:void 0!=g&&g.map(((e,s)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:(0,u.jsx)(c.N_,{to:{pathname:"/supplier",state:{id:e.Customer_Id,name:e.Customer_Name,code:e.Customer_Code}},children:(0,u.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Customer_Code})})}),(0,u.jsx)("td",{children:(0,u.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Customer_Name})}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{})]})))})]})}),(0,u.jsx)(m.A,{defaultCurrent:y,total:D,onChange:$,style:{margin:"2%"},current:y,showQuickJumper:!0,showSizeChanger:!1,pageSize:30})]})]})]})]})})})]})})}))}}]);
//# sourceMappingURL=447.08a5280e.chunk.js.map