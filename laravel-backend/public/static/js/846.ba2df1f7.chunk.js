"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[846],{27846:(e,t,a)=>{a.r(t),a.d(t,{default:()=>he});var s=a(65043),r=a(60521),l=a(94406),n=a(50289),c=a(15627),o=a(30460),i=a(47419),d=a(11645),m=a(64435),h=a(89421),p=a(67289),u=a(32064),x=a(82217),j=a(5397),g=a(26655),b=a(3428),v=a(89379);const f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var y=a(22172),N=function(e,t){return s.createElement(y.A,(0,v.A)((0,v.A)({},e),{},{ref:t,icon:f}))};const A=s.forwardRef(N);const S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"};var _=function(e,t){return s.createElement(y.A,(0,v.A)((0,v.A)({},e),{},{ref:t,icon:S}))};const k=s.forwardRef(_);const w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};var C=function(e,t){return s.createElement(y.A,(0,v.A)((0,v.A)({},e),{},{ref:t,icon:w}))};const I=s.forwardRef(C);var P=a(424),F=a(99442),D=a(94539),O=a(86178),T=a.n(O),M=a(98239),E=a(57284),Y=a(70579);const z=e=>{const{InventoryPS1:t,InventorySortPS1:a,InventorySortPS:r,InventorySortAS:l,InventorySortAA:n,onSortInventoryTable:c,InventoryPS:o,InventoryAS:i,InventoryAA:d,InventoryFS:m,InventorySortFS:h,InventoryOO:p,InventorySortOO:u,InventorySC:x,InventorySortSC:j,InventoryTC:g,InventorySortTC:b,inventory:v,total_phy_stock_other:f,total_phy_stock1:y,inventoryAllocStock:N,inventoryAllocAft:A,inventoryFreeStock:S,inventoryOnOrder:_,inventoryStdCost:k,inventoryTrueCost:w,ari_volume:C}=e;return(0,Y.jsx)(s.Fragment,{children:(0,Y.jsx)("div",{className:"row gy-5 gx-xl-10",children:(0,Y.jsx)("div",{className:"col-xl-12",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["Inventory",(0,Y.jsx)("span",{style:{fontWeight:"normal"},children:(0,Y.jsxs)("sub",{className:"",style:{color:"black"},children:["(Current month data filtered by"," ",(0,Y.jsx)("span",{style:{color:"rgb(138, 38, 80)"},children:"LG Date"})," )"]})})]})}),(0,Y.jsxs)("div",{className:"d-flex flex-row ",children:[(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-danger me-2  h-15px w-15px"})," ","Livery 1"]}),(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-warning me-2  h-15px w-15px"})," ","Livery 2"]}),(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-success me-2  h-15px w-15px"})," ","Livery 3"]})]})]}),(0,Y.jsx)("div",{className:"card-body py-3 table-align",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll ",children:(0,Y.jsxs)("table",{className:"table table-row-dashed  align-middle gs-0 gy-6 main-table",children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder text-muted ",children:[(0,Y.jsx)("th",{className:"",children:"Product Code"}),(0,Y.jsx)("th",{className:"",children:"Supplier Code"}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(t),children:["Physical Stock Depot1","Desc"!=a?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(o),children:["Phy. Stock OtherDepot","Desc"!=r?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(i),children:["Alloc Stock","Desc"!=l?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(d),children:["Alloc After","Desc"!=n?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(m),children:["Free Stock","Desc"!=h?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(p),children:["On Order","Desc"!=u?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(x),children:["Std Cost","Desc"!=j?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"",onClick:()=>c(g),children:["True Cost","Desc"!=b?(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary cursor-pointer",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsx)("th",{className:"",children:"Avg Cost"}),(0,Y.jsx)("th",{className:"",children:"LG Date"})]})}),(0,Y.jsx)("tbody",{children:void 0!=v&&v.map((e=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:1==e.gh_priority?"badge badge-danger d-block fs-6":2==e.gh_priority?"badge badge-warning  d-block fs-6":3==e.gh_priority?"badge badge-success  d-block fs-6":4==e.gh_priority?"badge badge-info  d-block fs-6":5==e.gh_priority?"badge badge-secondary  d-block fs-6":"text-dark fw-bolder  d-block fs-6",children:e.Product_Code})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.supplier})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.phyStock1})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.phyStockOther})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Allocation_Stock})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Allocation_After})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Free_stock})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.On_Order})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"fw-bolder  d-block fs-6",style:"0"==e.ismatched?{color:"rgb(255 45 218)"}:{color:""},children:E.A.addZero(e.Std_Cost)})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:" fw-bolder  d-block fs-6",style:"0"==e.ismatched?{color:"rgb(255 45 218)"}:{color:""},children:E.A.addZero(e.True_Cost)})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:E.A.addZero(e.Avg_Cost)})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.LG_Date&&"-"!=e.LG_Date?T()(e.LG_Date).format("DD-MMM-YYYY"):"-"})})]})))}),(0,Y.jsx)("tfoot",{children:(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{className:"text-dark fw-boldest"}),(0,Y.jsx)("td",{className:"text-dark fw-boldest"}),(0,Y.jsx)("td",{children:(0,Y.jsxs)("span",{className:"text-dark fw-boldest  d-block fs-6",children:[y," "]})}),(0,Y.jsx)("td",{children:(0,Y.jsxs)("span",{className:"text-dark fw-boldest  d-block fs-6",children:[f," "]})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:N})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:A})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:S})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:_})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:k})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:w})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-boldest  d-block fs-6",children:w})}),(0,Y.jsx)("td",{className:"text-dark fw-boldest"})]})})]})})})]})})})})})})},B=e=>{const{AllComments:t,ProductId:a,Background:r,setIsModalOpen:l,setActiveTab:n,activeTab:c,assigned_to_me:o}=e;return(0,Y.jsx)("div",{className:"col-xl-12",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4 ",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsx)("div",{className:"d-none d-sm-none d-md-block",children:(0,Y.jsxs)("div",{className:"card-header border-0 pt-2 ",children:[(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["Background/Comments/Tasks",(0,Y.jsxs)("span",{style:{fontWeight:"normal"},children:[" ",(0,Y.jsx)("sub",{className:"",style:{color:"black"},children:"(Last 7 Comments)"})]})]})}),(0,Y.jsx)("div",{className:"card-toolbar",children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>l(!0),children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"})})})]})}),(0,Y.jsx)("div",{className:"d-sm-block d-md-none",children:(0,Y.jsx)("div",{className:"card-header border-0 pt-2 ",children:(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsx)("div",{className:"col-10",children:(0,Y.jsx)("h3",{className:"card-title ",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["Background/Comments/Tasks",(0,Y.jsxs)("span",{style:{fontWeight:"normal"},children:[" ",(0,Y.jsx)("sub",{className:"",style:{color:"black"},children:"(Last 7 Comments)"})]})]})})}),(0,Y.jsx)("div",{className:"col-2",children:(0,Y.jsx)("div",{className:"card-toolbar",children:(0,Y.jsx)("button",{title:"Add new comment or task",type:"button",className:"btn btn-sm btn-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end","data-bs-toggle":"modal","data-bs-target":"#add_comment",children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"})})})})]})})}),(0,Y.jsx)("div",{id:"kt_example_js_header",className:"pb-0 px-5",children:(0,Y.jsxs)("ul",{className:"nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-bold mb-0",children:[(0,Y.jsx)("li",{className:"nav-item",children:(0,Y.jsx)("a",{className:"nav-link text-active-primary pb-1 active","data-bs-toggle":"tab",href:"#latestPO",onClick:()=>n("background"),children:"Background"})}),(0,Y.jsx)("li",{className:"nav-item",children:(0,Y.jsx)("a",{className:"nav-link text-active-primary pb-1 ","data-kt-countup-tabs":"true","data-bs-toggle":"tab",href:"#historicalPO",onClick:()=>n("comment"),children:"Comments"})}),(0,Y.jsx)("li",{className:"nav-item",children:(0,Y.jsx)("a",{className:"nav-link text-active-primary pb-1 ","data-bs-toggle":"tab",href:"#taskassigntome",onClick:()=>n("taskassigntome"),children:"Task assigned to me"})})]})}),(0,Y.jsxs)("div",{className:"tab-content",id:"myTabContent",children:[(0,Y.jsx)("div",{className:"tab-pane fade show active",id:"latestPO",role:"tabpanel",children:(0,Y.jsx)("div",{className:"card-body py-1 scroll h-400px px-5 pt-4",children:(0,Y.jsx)("div",{className:"row-12",children:(0,Y.jsx)("div",{className:"col-md-12 pt-4",children:void 0!=r&&r.map(((e,t)=>(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("p",{children:[e.comment,(0,Y.jsxs)("span",{style:{paddingLeft:"6px"},children:["","added by ",e.added_by," on ",T()(e.created_at).format("DD-MMM-YYYY")," "," "," at ",T()(e.created_at).format("LT")]})]}),(0,Y.jsx)("div",{className:"separator separator-content text-gray my-2"})]})})))})})})}),(0,Y.jsx)("div",{className:"tab-pane fade show ",id:"historicalPO",role:"tabpanel",children:(0,Y.jsx)("div",{className:"card-body py-1 scroll h-400px px-5 pt-4",children:(0,Y.jsx)("div",{className:"row-12",children:(0,Y.jsx)("div",{className:"col-md-12  pt-4",children:void 0!=t&&t.map(((e,t)=>{if(7!=t)return(0,Y.jsx)(s.Fragment,{children:(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("p",{children:[e.comment,(0,Y.jsxs)("span",{style:{paddingLeft:"6px"},children:["added by ",e.added_by," ","on"," ",T().utc(e.created_at).format("DD-MMM-YYYY")," ","     ","at"," ",T().utc(e.created_at).format("LT")]})]}),(0,Y.jsx)("div",{className:"separator separator-content text-gray my-2"})]})})}))})})})}),(0,Y.jsx)("div",{className:"tab-pane fade show ",id:"taskassigntome",role:"tabpanel",children:(0,Y.jsx)("div",{className:"card-body py-1 scroll h-400px px-5 pt-4",children:(0,Y.jsx)("div",{className:"row-12",children:(0,Y.jsx)("div",{className:"col-md-12  pt-4",children:void 0!=o&&o.map(((e,t)=>{if(7!=t)return(0,Y.jsx)(s.Fragment,{children:(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("p",{children:[e.task,(0,Y.jsxs)("span",{style:{paddingLeft:"6px"},children:["assigned by ",e.assigned_by," ","on"," ",T()(e.created_on).format("DD-MMM-YYYY")," "," at "," ",T()(e.created_on).format("LT")]})]}),(0,Y.jsx)("div",{className:"separator separator-content text-gray my-2"})]})})}))})})})}),(0,Y.jsx)("div",{id:"kt_example_js_footer1",className:"p-4",children:t.length>5&&"comment"==c?(0,Y.jsx)("div",{className:"justify-content-left",children:(0,Y.jsx)("div",{className:"mb-1",children:(0,Y.jsx)(P.N_,{to:{pathname:"/all-comments-task",state:{data:a}},children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary",children:"View More"})})})}):"background"==c&&r.length>5?(0,Y.jsx)("div",{className:"justify-content-left",children:(0,Y.jsx)("div",{className:"mb-1",children:(0,Y.jsx)(P.N_,{to:{pathname:"/all-background",state:{data:a}},children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary",children:"View More"})})})}):"taskassigntome"==c&&o.length>1?(0,Y.jsx)("div",{className:"justify-content-left",children:(0,Y.jsx)("div",{className:"mb-1",children:(0,Y.jsx)(P.N_,{to:{pathname:"/tasks",state:{data:a}},children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary",children:"View More"})})})}):""})]})]})})})})},G=e=>{const{onSortGrnTable:t,GrnSortPrice:a,GRNQ:s,grn:r,ProductId:l,GRNPr:n,GrnSortQty:c,GrnSortPackSize:o,GrnPackSize:i,GrnSortGrnNo:d,GrnGrnNo:m,GrnSortRecieptDate:h,RecieptDate:p}=e;return(0,Y.jsx)("div",{className:"row g-5 gx-xl-8",children:(0,Y.jsx)("div",{className:"col-xl-12",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsx)("div",{className:"card-header border-0 pt-2",children:(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["GRN",(0,Y.jsx)("span",{style:{fontWeight:"normal"},children:(0,Y.jsxs)("sub",{className:"",style:{color:"black"},children:["(Last 3 months data filtered by"," ",(0,Y.jsx)("span",{style:{color:"rgb(138, 38, 80)"},children:"Reciept date"})," )"]})})]})})}),(0,Y.jsxs)("div",{className:"card-body py-3 table-align-left",children:[(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer",children:"Product Code"}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer",children:"Product Description"}),(0,Y.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>t(i),children:["Pack Size","Desc"!=o?(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer",children:"Supplier Code"}),(0,Y.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>t(m),children:["GRN No","Desc"!=d?(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>t(n),children:["GRN Price","Desc"!=a?(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"min-w-100px cursor-pointer ",onClick:()=>t(s),children:["GRN Qty","Desc"!=c?(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,Y.jsxs)("th",{className:"min-w-100px cursor-pointer ",onClick:()=>t(p),children:["Reciept Date ","Desc"!=h?(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,Y.jsx)(D.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]})]})}),(0,Y.jsx)("tbody",{children:void 0!=r&&r.map((e=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Product_Code})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Product_Desc})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Pack_Size})}),(0,Y.jsx)("td",{children:(0,Y.jsx)(P.N_,{to:{pathname:"/supplier",state:{id:e.Supplier_Id_Main}},children:(0,Y.jsx)("span",{className:"text-danger fw-bolder text-hover-primary d-block fs-6 text-decoration-underline link",children:e.Supplier_Code})})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_No})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{style:{marginLeft:"10px"},className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:"."==e.Grn_Price.charAt(0)?"0"+e.Grn_Price:e.Grn_Price})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{style:{marginLeft:"10px"},className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_Qty})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:T()(e.Receipt_Date).format("DD-MMM-YYYY")})})]})))})]})}),r.length>0?(0,Y.jsx)(P.N_,{to:{pathname:"/product-grn",state:{prod_id:l}},className:"pe-1",children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary",children:"View More"})}):(0,Y.jsx)("div",{className:"pe-1"})]})]})})})})})};var R=a(44864);let L="";const q=e=>{const[t,a]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),[n,c]=(0,s.useState)([]);(0,s.useEffect)((()=>{o()}),[]);const o=()=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-competitor-offers"),{method:"get",headers:{Authorization:"Bearer ".concat(L),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){var t;c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.offers)}))})).catch((function(e){console.log("Fetch Error :-S",e)}))};return L=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,Y.jsx)(Y.Fragment,{})};var W=a(50525),H=a(25676),V=a(10804),Z=a(9254);const{Option:Q}=l.A,{RangePicker:U}=W.A,J=["Supplier Pricing","Drug Tarrif (DT) Prices","Price Concession","Wavedata","Competitor Pricing","Telesales","Competitor Offers"];let K="";new Array;const X=s.createContext(null),ee=e=>{let{index:t,...a}=e;const[s]=n.A.useForm();return(0,Y.jsx)(n.A,{form:s,component:!1,children:(0,Y.jsx)(X.Provider,{value:s,children:(0,Y.jsx)("tr",{...a})})})},te=e=>{let{title:t,editable:a,children:l,dataIndex:c,record:o,handleSave:i,...d}=e;const[m,h]=(0,s.useState)(!1),p=(0,s.useRef)(null),u=(0,s.useContext)(X);(0,s.useEffect)((()=>{m&&p.current.focus()}),[m]);const x=()=>{h(!m),u.setFieldsValue({[c]:o[c]})},j=async()=>{try{const e=await u.validateFields();x(),i({...o,...e})}catch(e){console.log("Save failed:",e)}};let g=l;return a&&(g=m?(0,Y.jsx)(n.A.Item,{style:{margin:0},name:c,rules:[{required:!1}],children:(0,Y.jsx)(r.A,{ref:p,onPressEnter:j,onBlur:j})}):(0,Y.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:x,children:l})),(0,Y.jsx)("td",{...d,children:g})},ae=e=>{var t;const{ProductId:a,SummuryPricing:r,SummuryUsage:o}=e,[i,d]=(0,s.useState)("Current"),[j,g]=(0,s.useState)(1),[v,f]=(0,s.useState)([]),[y,N]=(0,s.useState)([]),[A,S]=(0,s.useState)(!1),[_,k]=(0,s.useState)(1),[w,C]=(0,s.useState)(0),[I,P]=(0,s.useState)(0),[F,D]=(0,s.useState)(!1),[O,M]=(0,s.useState)([]),[z,B]=(0,s.useState)([]),[G,L]=(0,s.useState)(!1),[q,$]=(0,s.useState)(!1),X=(0,s.useRef)(null),[ae,se]=(0,s.useState)({key:"",value:"",children:""}),[re,le]=(0,s.useState)([]),[ne,ce]=(0,s.useState)([]),[oe]=n.A.useForm(),[ie,de]=(0,s.useState)({columnKey:"price_from_date",order:"descend"}),me={body:{row:ee,cell:te}};(0,s.useEffect)((()=>(ue(a),xe(),()=>{})),[]),(0,s.useEffect)((()=>{ue(a),de(5==j||4==j?{columnKey:"asofdate",order:"descend"}:6==j?{columnKey:"date",order:"descend"}:{columnKey:"price_from_date",order:"descend"}),k(1)}),[j]),(0,s.useEffect)((()=>{ue(a)}),[_,ie]);const he=e=>{d(e.target.value)},pe=e=>{k(e)},ue=e=>{S(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-pricing-data/").concat(e,"/").concat(j,"/").concat(_,"/").concat(ie.columnKey,"/").concat("descend"==ie.order?0:1," "),{method:"get",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status?e.json().then((function(e){var t,a,s,r,l,n,c,o,i,d,m,h,p,u,x,j,g,b;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.price_capture)&&void 0!==a&&a.currrent?(f(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(o=c.price_capture)||void 0===o?void 0:o.currrent),P(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(d=i.price_capture)||void 0===d?void 0:d.current_count)):f([]);null!==e&&void 0!==e&&null!==(s=e.data)&&void 0!==s&&null!==(r=s.price_capture)&&void 0!==r&&r.historical?(N(null===e||void 0===e||null===(m=e.data)||void 0===m||null===(h=m.price_capture)||void 0===h?void 0:h.historical),C(null===e||void 0===e||null===(p=e.data)||void 0===p||null===(u=p.price_capture)||void 0===u?void 0:u.historical_count)):N([]);null!==e&&void 0!==e&&null!==(l=e.data)&&void 0!==l&&null!==(n=l.price_capture)&&void 0!==n&&n.spots&&(M(null===e||void 0===e||null===(x=e.data)||void 0===x||null===(j=x.price_capture)||void 0===j?void 0:j.spots),B(null===e||void 0===e||null===(g=e.data)||void 0===g||null===(b=g.price_capture)||void 0===b?void 0:b.competitors));S(!1)})):S(!1)})).catch((function(e){S(!1),f([]),N([])}))},xe=async()=>{await fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-supplier-codes"),{method:"get",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){ce(e.data.supplier)}))})).catch((function(e){}))},je=[{title:"Product Code",dataIndex:"product_code",key:"product_code",hidden:!0},{title:"Supplier Code",dataIndex:"supp_code",key:"supp_code",sorter:!0},{title:"Price",dataIndex:"price",key:"price",sorter:!0,editable:!0,render:(e,t)=>e?(0,Y.jsxs)("div",{style:{padding:"0px 10px"},children:[e," ","up"==t.pricing_trend?(0,Y.jsx)("i",{className:"fa fa-arrow-up text-success p-1","aria-hidden":"true","data-bs-toggle":"tooltip","data-bs-placement":"top"}):"","down"==t.pricing_trend?(0,Y.jsx)("i",{className:"fa fa-arrow-down text-danger p-1","aria-hidden":"true","data-bs-toggle":"tooltip","data-bs-placement":"top"}):""]}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Source",dataIndex:"datasource",key:"datasource",sorter:!0},{title:"Date",dataIndex:"price_from_date",key:"price_from_date",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")},{title:"Forecast",dataIndex:"forecast",key:"forecast",sorter:!0,editable:!0},{title:"Comments",dataIndex:"comments",key:"comments",sorter:!0}],ge=[{title:"Product Code",dataIndex:"spotcode",key:"spotcode",sorter:!0},{title:"Price",dataIndex:"price",key:"price",sorter:!0},{title:"Date",dataIndex:"date",key:"date",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")}],be=[{title:"Product Code",dataIndex:"product_code",key:"product_code",render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"1st CHEAPEST",dataIndex:"cheapest1",key:"cheapest1",sorter:!0},{title:"VENDOR1",dataIndex:"vendor1",key:"vendor1",sorter:!0},{title:"DATE1",dataIndex:"date1",key:"date1",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")},{title:"2nd CHEAPEST",dataIndex:"cheapest2",key:"cheapest2",sorter:!0},{title:"VENDOR2",dataIndex:"vendor2",key:"vendor2",sorter:!0},{title:"DATE2",dataIndex:"date2",key:"date2",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")},{title:"ASOFDATE",dataIndex:"date",key:"date",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")}],ve=[{title:"Product",dataIndex:"product",key:"product",render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Description",dataIndex:"description",key:"description",render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Sales Code",dataIndex:"sales_code",key:"sales_code",sorter:!0,render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Supplier",dataIndex:"supplier",key:"supplier",sorter:!0,render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Trade Price",dataIndex:"trade_price",key:"trade_price",sorter:!0,render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Price",dataIndex:"price",key:"price",sorter:!0,render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Stock",dataIndex:"stock",key:"stock",sorter:!0,render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Date",dataIndex:"date",key:"date",sorter:!0,render:e=>T()(e).format("DD-MMM-YYYY")}],fe=[{title:"Price",dataIndex:"price",key:"price",sorter:!0},{title:"Date",dataIndex:"date",key:"date",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")}],ye=[{title:"Product Code",dataIndex:"product_code",key:"product_code",render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Price",dataIndex:"price",key:"price",sorter:!0},{title:"Competitor name",dataIndex:"competitor_name",key:"competitor_name",sorter:!0},{title:"Date",dataIndex:"date",key:"date",sorter:!0,render:(e,t)=>T()(e).format("DD-MMM-YYYY")}],Ne=[{title:"Product Code",dataIndex:"product_code",key:"product_code",render:e=>e?(0,Y.jsx)(Y.Fragment,{children:e}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"PHOENIX",dataIndex:"phoenix",key:"phoenix",sorter:(e,t)=>e.phoenix-t.phoenix,render:(e,t)=>e?(0,Y.jsx)("div",{style:{background:"1"==t.phoenix_outofstock?"#FFFF00":"",padding:"5px 5px 5px 5px"},children:E.A.addZero(e)}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"TRIDENT",dataIndex:"trident",key:"trident",sorter:(e,t)=>e.trident-t.trident,render:(e,t)=>e?(0,Y.jsx)("div",{style:{background:"1"==t.trident_outofstock?"#FFFF00":"",padding:"5px 5px 5px 5px"},children:E.A.addZero(e)}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"AAH",dataIndex:"aah",key:"aah",sorter:(e,t)=>e.aah-t.aah,render:(e,t)=>e?(0,Y.jsx)("div",{style:{background:"1"==t.aah_outofstock?"#FFFF00":"",padding:"5px 5px 5px 5px"},children:E.A.addZero(e)}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"COLORAMA",dataIndex:"colorama",key:"colorama",sorter:(e,t)=>e.colorama-t.colorama,render:(e,t)=>e?(0,Y.jsx)("div",{style:{background:"1"==t.colorama_outofstock?"#FFFF00":"",padding:"5px 5px 5px 5px"},children:E.A.addZero(e)}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"BESTWAY",dataIndex:"bestway",key:"bestway",sorter:(e,t)=>e.bestway-t.bestway,render:(e,t)=>e?(0,Y.jsx)("div",{style:{background:"1"==t.bestway_outofstock?"#FFFF00":"",padding:"5px 5px 5px 5px"},children:E.A.addZero(e)}):(0,Y.jsx)(Y.Fragment,{children:"-"})},{title:"Date",dataIndex:"AsOfDate",key:"AsOfDate",sorter:(e,t)=>new Date(e.AsOfDate).getTime()-new Date(t.AsOfDate).getTime(),render:e=>e?T()(e).format("DD-MMM-YYYY"):(0,Y.jsx)(Y.Fragment,{children:"-"})}];var Ae=new Array;O.map((e=>{Ae.push({value:e.Product_Id,label:e.Product_Code})}));var Se=new Array;z.map((e=>{Se.push({value:e.id,label:e.name})}));const _e=()=>{D(!0)},ke=()=>{$(!1)},we=je.map((e=>e.editable?{...e,onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:e=>{(e=>{var t;(e.oldPrice!==e.price&&e.oldPrice!=e.price||e.oldForecast!=e.forecast)&&(e.oldForecast!=e.forecast&&(t={pricing_id:e.pricing_id,forecast:e.forecast}),e.oldPrice!=e.price&&(t={pricing_id:e.pricing_id,negotiated_price:e.price}),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/update-supplier-pricing"),{method:"post",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){c.Ay.success(e.data),ue(a)}))})).catch((function(e){})))})({...t,oldPrice:t.price,...e,oldComments:t.comments,oldForecast:t.forecast})}})}:e)),Ce=e=>{var t,s,r,l;S(!0);let n={sdate:null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t[0]?T()(null===e||void 0===e||null===(s=e.date)||void 0===s?void 0:s[0]).format("YYYY-MM-DD"):null,edate:null!==e&&void 0!==e&&null!==(r=e.date)&&void 0!==r&&r[1]?T()(null===e||void 0===e||null===(l=e.date)||void 0===l?void 0:l[1]).format("YYYY-MM-DD"):null,scode:null===e||void 0===e?void 0:e.sid};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/search-product-pricing-data/").concat(a,"/1/1/price_from_date/2"),{method:"post",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){200==e.status&&e.json().then((function(e){f(null===e||void 0===e?void 0:e.currrent),N(null===e||void 0===e?void 0:e.historical),P(e.current_count),C(e.historical_count),S(!1)}))})).catch((function(e){S(!1)}))},Ie="2"==j&&"Current"!=i?ge:ge.filter((e=>"forecast"!==e.key)),Pe="3"==j&&"Current"!=i?fe:fe.filter((e=>"forecast"!==e.key));return K=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,Y.jsxs)("div",{className:"row g-5 gx-xl-8",children:[(0,Y.jsx)("div",{className:"col-xl-12",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"Pricing"})}),(0,Y.jsx)(h.A,{onClick:()=>{$(!0)},className:"Primary",type:"primary",size:"large",children:"View Summary"})]}),(0,Y.jsx)(H.A,{onChange:e=>{oe.resetFields(),g(e),d("Current")},items:new Array(J.length).fill(null).map(((e,t)=>{const s=String(t+1);return{label:(0,Y.jsx)("span",{className:"p-4 m-2",children:J[t]}),key:s,children:(0,Y.jsxs)("div",{className:"p-4 ",children:[(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsxs)("div",{className:"col-2",children:[" ",(0,Y.jsxs)(u.Ay.Group,{onChange:he,value:i,style:{marginBottom:8},children:[(0,Y.jsx)(u.Ay.Button,{value:"Current",children:"Current"}),(0,Y.jsx)(u.Ay.Button,{value:"Historical",children:"Historical"})]})," "]}),(0,Y.jsx)("div",{className:"col-8",children:1==j&&"Current"!=i&&(0,Y.jsx)(n.A,{onFinish:Ce,form:oe,children:(0,Y.jsxs)("div",{className:"d-flex justify-content-between",children:[1==j&&(0,Y.jsx)(n.A.Item,{label:"Supplier Code",name:"sid",className:"p-1 ",style:{width:"40%"},children:(0,Y.jsx)(l.A,{options:ne.map(((e,t)=>({value:e.supplier,label:e.supplier}))),showSearch:!0})}),(0,Y.jsx)(n.A.Item,{label:"From date - To date",name:"date",className:"p-1",children:(0,Y.jsx)(U,{})}),(0,Y.jsx)(n.A.Item,{className:"p-1",children:(0,Y.jsxs)(m.A,{children:[" ",(0,Y.jsx)(h.A,{htmlType:"submit",type:"primary",children:"Submit"}),(0,Y.jsx)(h.A,{onClick:()=>{oe.resetFields(),ue(a)},children:"Reset"})]})})]})})}),(0,Y.jsxs)("div",{className:"col-2 text-center",children:[" ",(0,Y.jsx)("div",{className:"card-toolbar ",children:(0,Y.jsx)(m.A,{children:6==j&&(0,Y.jsx)(h.A,{onClick:_e,className:"Primary",type:"primary",size:"large",children:"+"})})})]})]}),(0,Y.jsx)(p.A,{showSorterTooltip:!1,columns:1==j?we:2==j?Ie:"6"==j?ye:5==j?Ne:4==j?be:7==j?ve:Pe,dataSource:"Current"===i?v:y,scroll:{y:"50%"},loading:A,pagination:!1,rowClassName:()=>"editable-row",components:me,onChange:(e,t,a,s)=>{de({...a})}}),(0,Y.jsx)("div",{className:"row text-end m-4",children:"Current"==i?(0,Y.jsx)(V.A,{current:_,defaultPageSize:10,onChange:pe,total:I,showQuickJumper:!1,showSizeChanger:!1}):(0,Y.jsx)(V.A,{current:_,defaultPageSize:10,onChange:pe,total:w,showQuickJumper:!1,showSizeChanger:!1})})]})}}))})]})})})}),(0,Y.jsx)(x.A,{open:F,footer:!1,onCancel:()=>D(!1),title:"Telesales Pricing",destroyOnClose:!0,children:(0,Y.jsxs)(n.A,{name:"basic",labelCol:{span:6},wrapperCol:{span:15},style:{maxWidth:600},initialValues:{spotcode:null===Ae||void 0===Ae||null===(t=Ae[0])||void 0===t?void 0:t.value},onFinish:e=>{L(!0);let t={product:e.spotcode,asofdate:T()(e.asofdate).format("DD-MMM-YYYY"),price:e.price,competitor:e.Compititor_Name};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/add-telesales-pricing"),{method:"post",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){c.Ay.success(e.message),D(!1),de({columnKey:"date",order:"descend"}),g(6),L(!1)}))})).catch((function(e){console.log("Fetch Error :-S",e)}))},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,Y.jsx)(n.A.Item,{label:"Product",name:"spotcode",rules:[{required:!0,message:"Please select product"}],children:(0,Y.jsx)(l.A,{options:Ae})}),(0,Y.jsx)(n.A.Item,{label:"Date",name:"asofdate",rules:[{required:!0,message:"Please enter date"}],children:(0,Y.jsx)(W.A,{})}),(0,Y.jsx)(n.A.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please enter price"}],children:(0,Y.jsx)(b.A,{})}),(0,Y.jsx)(n.A.Item,{label:"Compititor",name:"Compititor_Name",rules:[{required:!0,message:"Please select compititor "}],children:(0,Y.jsx)(Z.A,{className:"editable-cell-value-wrap form-control mr-1",style:{paddingRight:0,height:24,width:"100%"},onSelect:(e,t)=>{se(t)},onSearch:e=>{var t;(t=e)?fetch("".concat(R.u.MAIN_ENDPOINT,"/api/search-competitor/").concat(t),{method:"get",headers:{Authorization:"Bearer ".concat(K),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){le(e.competitors)}))})).catch((function(e){})):le([])},placeholder:"Add Competitor",ref:X,children:re.map((e=>(0,Y.jsx)(Q,{value:e.value,children:e.value},e.key)))})}),(0,Y.jsx)(n.A.Item,{wrapperCol:{offset:8,span:16},children:(0,Y.jsx)(h.A,{type:"primary",loading:G,htmlType:"submit",children:"Submit"})})]})}),(0,Y.jsx)(x.A,{centered:!0,destroyOnClose:!0,visible:q,onOk:ke,onCancel:ke,footer:null,width:520,children:(0,Y.jsxs)(n.A,{layout:"vertical",children:[(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsx)("h1",{className:"mb-1",style:{color:"rgb(138, 38, 80)"},children:"Summary"})}),(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsx)("div",{className:"col-md-6 ",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-bordered table-column-bordered align-middle  gy-5 gs-5   main-table ",children:[(0,Y.jsx)("thead",{children:(0,Y.jsx)("tr",{className:"fw-bolder text-muted align-middle",children:(0,Y.jsx)("th",{className:"text-left h2",colSpan:2,children:"Pricing"})})}),(0,Y.jsx)("tbody",{children:void 0!==r?r.map(((e,t)=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:e.value}),(0,Y.jsx)("td",{children:e.label})]}))):(0,Y.jsx)(s.Fragment,{})})]})})}),(0,Y.jsx)("div",{className:"col-md-6 ",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-bordered table-column-bordered align-middle  gy-5 gs-5   main-table ",children:[(0,Y.jsx)("thead",{children:(0,Y.jsx)("tr",{className:"fw-bolder text-muted align-middle",children:(0,Y.jsx)("th",{className:"text-left",colSpan:2,children:"Usage"})})}),(0,Y.jsx)("tbody",{children:void 0!==o?o.map(((e,t)=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:e.value}),(0,Y.jsx)("td",{children:e.label})]}))):(0,Y.jsx)(s.Fragment,{})})]})})})]})]})})]})};var se=a(53727);const re=e=>{const{tagCurrent:t,onDisableTag:a}=e;return(0,Y.jsxs)(s.Fragment,{children:[(0,Y.jsx)("div",{className:"d-none d-sm-none d-md-block",children:(0,Y.jsxs)("div",{className:"row gy-5 g-xl-10",children:[(0,Y.jsx)("div",{className:"col-xl-11",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsx)("div",{className:"card",children:(0,Y.jsx)("div",{className:"card-header border-0 p-2",style:{minHeight:"40px"},id:"kt_tagify_1",children:(0,Y.jsx)("div",{className:"flex-container",children:0==t.length?(0,Y.jsx)("span",{style:{color:"rgb(138, 38, 80)",backgroundColor:"#E8FFF3",margin:"5px",cursor:"text"},className:"badge fs-6 fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"No any tag attach to this product",children:"No any tag attach to this product"}):void 0!=t&&t.map((e=>(0,Y.jsx)(s.Fragment,{children:1==e.severity?(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-success fs-6 fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"Low",children:[" ",(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]}):2==e.severity?(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-warning fs-6 fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"Medium",children:[(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]}):(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-danger fs-6 fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"High",children:[(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]})})))})})})})})}),(0,Y.jsx)("div",{className:"col-xl-1",children:(0,Y.jsx)("div",{className:"",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsx)("div",{className:" border-0 pt-1",style:{minHeight:"40px"},children:(0,Y.jsx)("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Attach Tag",children:(0,Y.jsx)("button",{type:"button",className:"btn btn-sm btn-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end","data-bs-toggle":"modal","data-bs-target":"#attach_tag",children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"})})})})})})})]})}),(0,Y.jsx)("div",{className:"d-sm-block d-md-none",children:(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsx)("div",{className:"col-10",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsx)("div",{className:"card",children:(0,Y.jsx)("div",{className:"card-header border-0 p-2",style:{minHeight:"40px"},id:"kt_tagify_1",children:(0,Y.jsx)("div",{className:"flex-container",children:0==t.length?(0,Y.jsx)("span",{style:{color:"rgb(138, 38, 80)",backgroundColor:"#E8FFF3",margin:"5px",cursor:"text"},className:"badge  fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"No any tag attach to this product",children:"No any tag attach to this product"}):void 0!=t&&t.map((e=>(0,Y.jsx)(s.Fragment,{children:1==e.severity?(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-success  fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"Low",children:[" ",(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]}):2==e.severity?(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-warning fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"Medium",children:[(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]}):(0,Y.jsxs)("span",{style:{marginBottom:"5px"},className:"badge badge-danger  fw-bolder cursor-pointer","data-bs-placement":"Top","data-bs-trigger":"hover",title:"High",children:[(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},style:{color:"white"},children:e.name}),(0,Y.jsx)(se.A,{style:{color:"black",marginLeft:"5px",fontSize:"14px",fontWeight:"bold"},"data-bs-placement":"Top","data-bs-trigger":"hover",title:"Remove Tag",onClick:()=>a(e)})]})})))})})})})})}),(0,Y.jsx)("div",{className:"col-2",children:(0,Y.jsx)("div",{className:"",children:(0,Y.jsx)("div",{className:"row ",children:(0,Y.jsx)("div",{className:"border-0 pt-1",style:{minHeight:"40px"},children:(0,Y.jsx)("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Attach Tag",children:(0,Y.jsx)("button",{type:"button",className:"btn btn-sm btn-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end","data-bs-toggle":"modal","data-bs-target":"#attach_tag",children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr075.svg",className:"svg-icon-2"})})})})})})})]})})]})},le=e=>{const{contract:t}=e;return(0,Y.jsx)("div",{className:"col-xl-6",children:(0,Y.jsx)("div",{className:"card-xl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["Contracts",(0,Y.jsx)("span",{style:{fontWeight:"normal"},children:"   "})]})}),(0,Y.jsxs)("div",{className:"card-toolbar",children:[(0,Y.jsxs)("div",{style:{textDecoration:"none",padding:"10px"},children:["ATOZ :",(0,Y.jsx)("span",{className:"p-1 ",style:{fontWeight:"700"},children:E.A.addZero(null===t||void 0===t?void 0:t.ATOZ)})]}),(0,Y.jsxs)("div",{style:{textDecoration:"none"},children:["RRP :",(0,Y.jsxs)("span",{className:"p-1",style:{fontWeight:"700"},children:[" ",E.A.addZero(null===t||void 0===t?void 0:t.RRP)]})]})]})]}),(0,Y.jsx)("div",{className:"card-body py-3 table-align",children:(0,Y.jsx)("div",{className:"table-responsive h-400px ",children:(0,Y.jsx)("table",{className:"table table-row-dashed  align-middle gs-0 gy-6 main-table",children:(0,Y.jsxs)("thead",{children:[(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{style:{fontWeight:700},children:"Product Code"}),(0,Y.jsx)("td",{style:{fontWeight:700},children:null===t||void 0===t?void 0:t.sigma_product_code})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"00000087"}),(0,Y.jsx)("td",{children:E.A.addZero(null===t||void 0===t?void 0:t.c87)})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"00000122"}),(0,Y.jsx)("td",{children:null===t||void 0===t?void 0:t.c122})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"DC"}),(0,Y.jsx)("td",{children:E.A.addZero(null===t||void 0===t?void 0:t.DC)})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"DRIVEGRP"}),(0,Y.jsx)("td",{children:E.A.addZero(null===t||void 0===t?void 0:t.DG)})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"RHGROUP"}),(0,Y.jsx)("td",{children:E.A.addZero(null===t||void 0===t?void 0:t.RH)})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{children:"RBSINTEL"}),(0,Y.jsx)("td",{children:E.A.addZero(null===t||void 0===t?void 0:t.RBS)})]})]})})})})]})})})})},ne=e=>{const{sigmausage:t,sigmausageaddition:a,sigmausagepercentage:s,sigmaPCA:r,volume:l}=e,n=[{key:"Summary",label:"Summary",children:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder ",children:[(0,Y.jsx)("th",{className:"min-w-150px",children:" "}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer ",style:{fontWeight:700},children:"M-1"}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer ",style:{fontWeight:700},children:"M-2"}),(0,Y.jsx)("th",{className:"min-w-100px ",style:{fontWeight:700},children:"M-3"})]})}),(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder ",children:[(0,Y.jsx)("th",{className:"min-w-150px",children:"Total "}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer",children:a.usage_1}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer",children:a.usage_2}),(0,Y.jsx)("th",{className:"min-w-100px",children:a.usage_3})]})}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{className:"text-dark ",children:"Actual per PCA (%)"}),(0,Y.jsxs)("td",{className:"text-dark ",children:[s.percentage_1,"%"]}),(0,Y.jsxs)("td",{className:"text-dark ",children:[s.percentage_2,"%"]}),(0,Y.jsxs)("td",{className:"text-dark ",children:[s.percentage_3,"%"]})]}),(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{className:"text-dark ",children:"Against Target (%)"}),(0,Y.jsxs)("td",{className:"text-dark ",children:[(a.usage_1/l*100).toFixed(2),"%"]}),(0,Y.jsxs)("td",{className:"text-dark ",children:[(a.usage_2/l*100).toFixed(2),"%"]}),(0,Y.jsxs)("td",{className:"text-dark ",children:[(a.usage_3/l*100).toFixed(2),"%"]})]})]})},{key:"Productwise detail view",label:"Productwise detail view",children:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{className:"min-w-150px fw-bolder",children:" Product Code"}),(0,Y.jsx)("th",{className:"min-w-150px fw-bolder",children:" Brand"}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer ",style:{fontWeight:700},children:"M-1"}),(0,Y.jsx)("th",{className:"min-w-100px cursor-pointer ",style:{fontWeight:700},children:"M-2"}),(0,Y.jsx)("th",{className:"min-w-100px ",style:{fontWeight:700},children:"M-3"})]})}),(0,Y.jsx)("tbody",{children:void 0!=t&&t.map((e=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.product_code})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.supplier_code})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.usage_1})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.usage_2})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.usage_3})})]})))})]})}];return(0,Y.jsx)("div",{className:"col-xl-6",children:(0,Y.jsx)("div",{className:"card-xl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsx)("div",{className:"card-header border-0 pt-2",children:(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:["Sigma Dispatched Quantity",(0,Y.jsx)("span",{style:{fontWeight:"normal"}})]})})}),(0,Y.jsxs)("div",{className:"card-body py-3 ",children:[(0,Y.jsxs)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",style:{marginLeft:"1%"},children:["PCA"," : \xa0\xa0",(0,Y.jsx)("span",{className:"text-dark fw-boldest",children:r})]}),(0,Y.jsx)("div",{className:"table-responsive h-400px table-scroll",children:(0,Y.jsx)("table",{className:"table table-row-dashed table-row-gray-400 align-middle gs-0 gy-4 main-table",children:(0,Y.jsx)(H.A,{defaultActiveKey:"1",items:n})})})]})]})})})})},ce=e=>{const[t,a]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),{disableInput:n,percentage:c,setpercentage:o,volume:i,setvolume:d,EditClick:m,SaveClick:h,sigmaPCA:p,SetdisableInput:u}=e;return(0,s.useEffect)((()=>{let e=localStorage.getItem("kpitvolume"),t=localStorage.getItem("kpitpercentage");a(e),l(t)}),[]),(0,Y.jsx)("form",{children:(0,Y.jsxs)("div",{className:"row  g-xl-10 ",children:[(0,Y.jsx)("div",{className:"col-xl-11 col-sm-6 col-md-10",children:(0,Y.jsx)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsx)("div",{className:"card",children:(0,Y.jsx)("div",{className:"card-header border-0 p-2",style:{minHeight:"40px"},children:(0,Y.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[(0,Y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",style:{backgroundColor:"white"},children:"Target Percentage(%)"}),"true"===n?(0,Y.jsx)("input",{required:!0,type:"number",className:"form-control form-control-solid quantity","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",value:c,autoFocus:!0,onChange:e=>{if(o(e.target.value),null==t||""==t||void 0==t||isNaN(t))d(e.target.value*p/100);else{var a=r/e.target.value,s=(t/a).toFixed(2);d(s)}},style:{opacity:1}}):(0,Y.jsx)("span",{className:"form-control",children:c}),(0,Y.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-sm",style:{backgroundColor:"white"},children:"Target Volume"}),"true"==n?(0,Y.jsx)("input",{required:!0,type:"number",className:"form-control form-control-solid","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",value:i,onChange:e=>{if(null!==r&&null!==t&&isNaN(r)||""!==r&&""!==t&&isNaN(r)){let a=Math.round(r*e.target.value/t).toFixed(2);o(a)}else{let t=Math.round(e.target.value/p*100).toFixed(2);o(t)}d(e.target.value)},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}}):(0,Y.jsx)("span",{className:"form-control",children:i})]})})})})})}),(0,Y.jsx)("div",{className:"col-xl-1 col-sm-6 col-md-2 ",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,Y.jsx)("div",{className:"border-0 pt-1",style:{minHeight:"40px"},children:"false"==n?(0,Y.jsx)("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Edit",children:(0,Y.jsx)("button",{type:"button",className:"btn btn-icon btn-warning fa-pencil",onClick:m,tabIndex:5,children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr036.svg",className:"svg-icon svg-icon-3"})})}):(0,Y.jsxs)("div",{"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Save",className:"symbol symbol-50px",children:[(0,Y.jsx)("button",{type:"button",className:"btn btn-icon btn-success ",onClick:h,tabIndex:4,children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr012.svg",className:"svg-icon svg-icon-3"})}),(0,Y.jsx)("span",{className:"symbol-badge badge badge-circle bg-danger start-100 cursor-pointer",onClick:e=>{u("false")},"data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Cancel",children:(0,Y.jsx)("i",{className:"fa fa-times","aria-hidden":"true"})})]})})})})]})})},{TextArea:oe}=r.A,{Option:ie}=l.A;let de="",me=0;const he=(0,F.y)((e=>{const[t]=n.A.useForm(),[a,v]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),[_,w]=(0,s.useState)(!1),[C,F]=(0,s.useState)(!1),[O,L]=(0,s.useState)(!1),[W,H]=(0,s.useState)(""),[V,Z]=(0,s.useState)([]),[Q,U]=(0,s.useState)(!1),[J,K]=(0,s.useState)(!1),[X,ee]=(0,s.useState)(!1),[te,se]=(0,s.useState)([]),[he,pe]=(0,s.useState)([]),[ue,xe]=(0,s.useState)([]),[je,ge]=(0,s.useState)([]),[be,ve]=(0,s.useState)([]),[fe,ye]=(0,s.useState)([]),[Ne,Ae]=(0,s.useState)([]),[Se,_e]=(0,s.useState)([]),[ke,we]=(0,s.useState)([]),[Ce,Ie]=(0,s.useState)([]),[Pe,Fe]=(0,s.useState)(""),[De,Oe]=(0,s.useState)(""),[Te,Me]=(0,s.useState)([]),[Ee,Ye]=(0,s.useState)([]),[ze,Be]=(0,s.useState)(null),[Ge,Re]=(0,s.useState)([]),[Le,qe]=(0,s.useState)([]),[We,He]=(0,s.useState)(""),[Ve,Ze]=(0,s.useState)(""),[Qe,Ue]=(0,s.useState)(""),[Je,Ke]=(0,s.useState)([]),[$e,Xe]=(0,s.useState)({}),[et,tt]=(0,s.useState)([]),[at,st]=(0,s.useState)([]),[rt,lt]=(0,s.useState)([]),[nt,ct]=(0,s.useState)([]),[ot,it]=(0,s.useState)(""),[dt,mt]=(0,s.useState)({}),[ht,pt]=(0,s.useState)([]),[ut,xt]=(0,s.useState)([]),[jt,gt]=(0,s.useState)({}),[bt,vt]=(0,s.useState)([]),[ft,yt]=(0,s.useState)([]),[Nt,At]=(0,s.useState)([]),[St,_t]=(0,s.useState)([]),[kt,wt]=(0,s.useState)([]),[Ct,It]=(0,s.useState)([]),[Pt,Ft]=(0,s.useState)([]),[Dt,Ot]=(0,s.useState)(""),[Tt,Mt]=(0,s.useState)([]),[Et,Yt]=(0,s.useState)([]),[zt,Bt]=(0,s.useState)(!1),[Gt,Rt]=(0,s.useState)(!1),[Lt,qt]=(0,s.useState)(""),[Wt,Ht]=(0,s.useState)(""),[Vt,Zt]=(0,s.useState)(""),[Qt,Ut]=(0,s.useState)(""),[Jt,Kt]=(0,s.useState)(""),[$t,Xt]=(0,s.useState)(!1),[ea,ta]=(0,s.useState)(!1),[aa,sa]=(0,s.useState)(!1),[ra,la]=(0,s.useState)(!1),[na,ca]=(0,s.useState)([]),[oa,ia]=(0,s.useState)([]),[da,ma]=(0,s.useState)([]),[ha,pa]=(0,s.useState)([]),[ua,xa]=(0,s.useState)([]),[ja,ga]=(0,s.useState)([]),[ba,va]=(0,s.useState)("Asc"),[fa,ya]=(0,s.useState)("Asc"),[Na,Aa]=(0,s.useState)("Price"),[Sa,_a]=(0,s.useState)("Qty"),[ka,wa]=(0,s.useState)("Asc"),[Ca,Ia]=(0,s.useState)("PackSize"),[Pa,Fa]=(0,s.useState)("Asc"),[Da,Oa]=(0,s.useState)("GrnNo"),[Ta,Ma]=(0,s.useState)("Asc"),[Ea,Ya]=(0,s.useState)("RecieptDate"),[za,Ba]=(0,s.useState)("Asc"),[Ga,Ra]=(0,s.useState)("Asc"),[La,qa]=(0,s.useState)("Asc"),[Wa,Ha]=(0,s.useState)("Asc"),[Va,Za]=(0,s.useState)("M1"),[Qa,Ua]=(0,s.useState)("M2"),[Ja,Ka]=(0,s.useState)("M3"),[$a,Xa]=(0,s.useState)("Asc"),[es,ts]=(0,s.useState)("Asc"),[as,ss]=(0,s.useState)("Asc"),[rs,ls]=(0,s.useState)("Asc"),[ns,cs]=(0,s.useState)("Asc"),[os,is]=(0,s.useState)("Asc"),[ds,ms]=(0,s.useState)("Asc"),[hs,ps]=(0,s.useState)("Asc"),[us,xs]=(0,s.useState)("PS1"),[js,gs]=(0,s.useState)("PS"),[bs,vs]=(0,s.useState)("AS"),[fs,ys]=(0,s.useState)("AA"),[Ns,As]=(0,s.useState)("FS"),[Ss,_s]=(0,s.useState)("OO"),[ks,ws]=(0,s.useState)("SC"),[Cs,Is]=(0,s.useState)("TC"),[Ps,Fs]=(0,s.useState)(""),[Ds,Os]=(0,s.useState)([]),[Ts,Ms]=(0,s.useState)(""),[Es,Ys]=(0,s.useState)("off"),[zs,Bs]=(0,s.useState)([]),[Gs,Rs]=(0,s.useState)([]),[Ls,qs]=(0,s.useState)([]),[Ws,Hs]=(0,s.useState)("false"),[Vs,Zs]=(0,s.useState)(""),[Qs,Us]=(0,s.useState)(""),[Js,Ks]=(0,s.useState)([]),[$s,Xs]=(0,s.useState)([]),[er,tr]=(0,s.useState)([]),[ar,sr]=(0,s.useState)(""),[rr,lr]=(0,s.useState)(""),[nr,cr]=(0,s.useState)(""),[or,ir]=(0,s.useState)(""),[dr,mr]=(0,s.useState)(""),[hr,pr]=(0,s.useState)(""),[ur,xr]=(0,s.useState)(""),[jr,gr]=(0,s.useState)(""),[br,vr]=(0,s.useState)(2),[fr,yr]=(0,s.useState)(1),[Nr,Ar]=(0,s.useState)(1),[Sr,_r]=(0,s.useState)("sp"),[kr,wr]=(0,s.useState)(!1),[Cr,Ir]=(0,s.useState)([]),[Pr,Fr]=(0,s.useState)([]),[Dr,Or]=(0,s.useState)([]),[Tr,Mr]=(0,s.useState)(!1),[Er,Yr]=(0,s.useState)(!1),[zr,Br]=(0,s.useState)([]),[Gr,Rr]=(0,s.useState)([]),[Lr,qr]=(0,s.useState)(null),[Wr,Hr]=(0,s.useState)(!1),[Vr,Zr]=(0,s.useState)([]),[Qr,Ur]=(0,s.useState)([]),[Jr,Kr]=(0,s.useState)([]),[$r,Xr]=(0,s.useState)([]),[el,tl]=(0,s.useState)(""),[al,sl]=(0,s.useState)([]),[rl,ll]=(0,s.useState)(null),[nl]=n.A.useForm(),[cl,ol]=(0,s.useState)("comment");$("body").on("click",(function(e){$(e.currentTarget).is("#kt_body")&&bt.length>0&&vt([])})),(0,s.useEffect)((()=>{let t=void 0!=e.location.state?e.location.state.prod_id:850;if(kr&&850==t)return;H(t);let a=e.location.state;void 0!==e.location.state&&void 0!=e.location.state.supplierId?(Ys("on"),lr(e.location.state.supplierId),cr(e.location.state.product_code),ir(e.location.state.data.code),mr(e.location.state.data.name),pr(e.location.state.price),xr(e.location.state.forecast),gr(e.location.state.prod_id)):Ys("off"),ml(a),El(a),Yl(a),gl(a),jl(a),bl(a),vl(a),xl(a),Fl(),Fs(""),mt({}),Nl(a),Al(a),vt([]),ul(a),pl(a),Sl(a),wr(!0),il(a),hl()}),[e]);const il=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-pending-tasks/").concat(e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){1==e.success&&(Kr(e.data.assigned_to_me),Xr(e.data.assigned_by_me))}))})).catch((function(e){console.log("Fetch Error :-S",e)}))},dl=[{title:"Livery",dataIndex:"livery",key:"livery",render:e=>(0,Y.jsx)("a",{children:e})},{title:"Supplier",dataIndex:"supplier",key:"supplier"},{title:"Price",dataIndex:"price",key:"price",render:e=>(0,Y.jsx)("a",{children:E.A.addZero(e)})},{title:"Volume",dataIndex:"volume",key:"volume"},{title:"Comments",dataIndex:"comments",key:"comments"}],ml=e=>{v(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-header/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){v(!1),gt(e.data.product_page_header),fl(e.data.product_page_header.prod_id),yl(e.data.product_page_header.prod_id),Pl(e.data.product_page_header.parent_product_code),Ar(e.data.price_indicator),yr(e.data.price_indicator),vt([])}))})).catch((function(e){v(!1)}))},hl=()=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-predefined-comments"),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){e.json().then((function(e){let t=new Array;null!==e&&void 0!==e&&e.comments&&e.comments.map((e=>{t.push({value:e.value,label:e.lable})})),sl(t)}))})).catch((function(e){}))},pl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-ari-info/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){var t,a,s,r;Rr(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.ari)||void 0===a?void 0:a.latest),qr(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(r=s.ari)||void 0===r?void 0:r.productid),y(!1)}))})).catch((function(e){console.log(e)}))},ul=e=>{y(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-ari-details/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){H(e.data.ari.productid),Ir(e.data.ari.current),Fr(e.data.ari.past),y(!1)}))})).catch((function(e){console.log(e)}))},xl=e=>{v(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-pricing-usage-summary/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){v(!1);let t=new Array,a=new Array;e.data.summary.pricing.map((e=>{let a={value:e.source,label:e.cleapest};t.push(a)})),e.data.summary.usage.map((e=>{let t={value:e.source,label:e.lowest};a.push(t)})),Bs(t),Rs(a)}))})).catch((function(e){v(!1)}))},jl=e=>{w(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-inventory-details/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){var t,a;ve(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.inventory)||void 0===a?void 0:a.inventory_data),yt(e.data.inventory.total_allo_after),At(e.data.inventory.total_allo_stock),_t(e.data.inventory.total_free_stock),wt(e.data.inventory.total_on_order),It(e.data.inventory.total_phy_stock1),Ft(e.data.inventory.total_phy_stock_other),Mt(e.data.inventory.avg_std_cost),Yt(e.data.inventory.avg_true_cost),Yt(e.data.inventory.avg_avg_cost),Ot(e.data.inventory.ari_volume),w(!1)}))})).catch((function(e){w(!1)}))},gl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-contract-details/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){var t;v(!1),qs(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.contracts)}))})).catch((function(e){v(!1)}))},bl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-tags-details/").concat(void 0!==e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){v(!1),_l(e.data)}))})).catch((function(e){v(!1)}))},vl=e=>{F(!0),fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-comments-details/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){F(!1),kl(e.data)}))})).catch((function(e){F(!1)}))},fl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/product-supplier-data/").concat(void 0!=e?e:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){v(!1),Os(e.data.products)}))})).catch((function(e){v(!1)}))},yl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-suppliers-for-ari/").concat(void 0!=e?e:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){Or(e.data.supplier)}))})).catch((function(e){v(!1)}))},Nl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-overview-data/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){v(!1);let t=new Array,a=new Array;e.data.overiview.map((e=>{"Price Concession1"==e.source||"PCA"==e.source?"Price Concession1"==e.source?"-"!=e.m1&&"-"!=e.m2&&"-"!=e.m3&&" "!=e.average&&"-"!=e.current_month&&t.push(e):Xe(e):a.push(e)})),pe(t),xe(a)}))})).catch((function(e){v(!1)}))},Al=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-sig-usage-data/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){Ks(e.data.usage),Xs(e.data.addition),tr(e.data.percentage),sr(e.data.pca),v(!1)}))})).catch((function(e){v(!1)}))},Sl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-grn-data/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){S(!1),ge(e.data.grn)}))})).catch((function(e){v(!1)}))},_l=e=>{let t=new Array,a=new Array;e.tags.tags.map((e=>{let t={value:e.tag_id,label:e.name};a.push(t)})),e.tags.severities.map((e=>{let a={value:e.id,label:e.name};t.push(a)})),ye(a),Ae(t),_e(e.tags.active_tags),we(e.tags.historical_tags_of_last_month),Ie(e.tags.historical_tags)},kl=e=>{let t=new Array;e.comments.users.map((e=>{let a={value:e.id,label:e.username};t.push(a)}));let a=new Array;e.comments.spots.map((e=>{let t={value:e.Product_Id,label:e.Product_Code};a.push(t)})),Ke(t),Br(a),tt(e.comments.latest_comments),st(e.comments.background)},wl=e=>{const t={price_indicator:e};let a={prod_id:W};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/add-price-indicator/").concat(W),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){1==e.success&&(yr(fr),v(!1),ml(a),c.Ay.success(e.data))})),e.status})).catch((function(e){})),$("#attach_indicator").modal("hide")},Cl=e=>{const t={id:"".concat(e.id),tag_id:"".concat(e.tag_id),severity:"".concat(e.severity)};let a={prod_id:W};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/deactivate-tag/").concat(W),{method:"put",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){1==e.success&&(c.Ay.success(e.data),bl(a))})),204==e.status&&v(!1)})).catch((function(e){v(!1)}))};const Il=()=>{He(""),Ue(""),Ze(""),Me([]),Ye([]),Re([]),qe([]),Fe(""),Oe(""),$("#attach_tag").modal("hide"),$("#add_comment").modal("hide"),$("#attach_indicator").modal("hide")},Pl=e=>{try{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-codes/").concat(e),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){1==e.ok&&e.json().then((function(e){let t=new Array;e.data.map((e=>{let a={value:e.prod_id,label:e.product_code};t.push(a)})),ga(t)})),e.status})).catch((function(e){console.log("Fetch Error :-S",e),v(!1)}))}catch(t){console.log("ERR>>>",t)}},Fl=()=>{try{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-suppliers"),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){let t=new Array;e.data.supplier.map((e=>{let a={value:e.id,label:e.supplier};t.push(a)})),pa(t)}))})).catch((function(e){v(!1)}))}catch(e){}},Dl=e=>{let t=new Array,a=new Array;void 0!=e.suppCode?e.suppCode.map((e=>{ua.map(((a,s)=>{a.label==e&&t.push(a.value)}))})):t.push(rr),V.map(((t,s)=>{let r={product_id:void 0!==e.prodCode[s]?"".concat(e.prodCode[s]):jr,supplier_id:void 0!==e.suppCode[s]?"".concat(e.suppCode[s]):rr,quantity:"".concat(e.qty[s]),price:void 0!==e.price[s]?"".concat(e.price[s]):hr};a.push(r)}));let s={poitems:a};try{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/create-po-items"),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){e.json().then((function(e){e&&(v(!1),Ht(""),Zt(""),qt(""),c.Ay.success(e.message),K(!1),me=0,Z([]))})),204==e.status&&(Ht(""),Zt(""),qt(""))})).catch((function(e){v(!1)}))}catch(r){}},Ol=()=>{Xt(!1),ta(!1),sa(!1),la(!1),K(!1),me=0,Z([])},Tl=()=>{0==me&&(V.push(me),me++),K(!0)},Ml=()=>{U(!1)},El=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-kpi-details/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){Zs(e.data.kpi.target_percentage),Us(e.data.kpi.target_volume),localStorage.setItem("kpitvolume",e.data.kpi.target_volume),localStorage.setItem("kpitpercentage",e.data.kpi.target_percentage)}))})).catch((function(e){}))},Yl=e=>{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/get-product-ari-volume/").concat(void 0!=e?e.prod_id:850),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status&&e.json().then((function(e){tl(e.data.ari_volume)}))})).catch((function(e){}))},zl=e=>{t.resetFields(),vr(e.target.value),ll(null)};return de=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,Y.jsx)(Y.Fragment,{children:1==a?(0,Y.jsxs)(s.Fragment,{children:[(0,Y.jsx)(o.A,{loading:a,active:!0}),(0,Y.jsx)(o.A,{loading:a,active:!0}),(0,Y.jsx)(o.A,{loading:a,active:!0})]}):(0,Y.jsxs)(s.Fragment,{children:[(0,Y.jsx)("div",{className:"row gy-5 gx-xl-4",children:(0,Y.jsx)("div",{className:"d-sm-none d-none d-md-block",children:(0,Y.jsx)("input",{type:"search",style:{zIndex:"500",position:"fixed",top:"10px",width:"30%"},onChange:e=>{let t=e.target.value;new Array;""==t||0==t?vt([]):fetch("".concat(R.u.MAIN_ENDPOINT,"/api/search-product/").concat(t),{method:"get",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){1==e.ok?e.json().then((function(e){vt(e.data)})):vt([])})).catch((function(e){}))},className:"form-control ",placeholder:"Search by Product"})})}),(0,Y.jsx)("div",{className:"d-none d-sm-none d-md-block",children:(0,Y.jsx)(i.A,{className:"prodHead container-fluid ",style:{alignItems:"center",marginTop:bt.length>0?"460px":bt.length<=0&&"on"==Es?"250px":"100px"},children:(0,Y.jsx)(d.A,{span:20,style:{marginTop:"30px"},children:(0,Y.jsx)("div",{className:"mt-4",children:(0,Y.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold mt-4",style:{marginTop:"0.1%",marginBottom:"10px"},children:[(0,Y.jsx)(P.N_,{to:"/home",className:"",children:(0,Y.jsx)("li",{className:"breadcrumb-item  ",children:"Home"})}),(0,Y.jsx)("li",{className:"breadcrumb-item pe-1 ",children:"/ Product"})]})})})})}),(0,Y.jsx)("div",{className:" d-sm-block d-md-none",children:(0,Y.jsx)(i.A,{className:"prodHead container-fluid ",style:{alignItems:"center",marginTop:bt.length>0?"460px":bt.length<=0&&"on"==Es?"250px":"0px"},children:(0,Y.jsx)(d.A,{span:20,children:(0,Y.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{marginTop:"0.1%",marginBottom:"10px"},children:[(0,Y.jsx)(P.N_,{to:"/home",className:"pe-1 cursor-pointer",children:(0,Y.jsx)("li",{className:"breadcrumb-item pe-1 pt-1",children:"Home"})}),"/ \xa0",(0,Y.jsx)("li",{className:"breadcrumb-item pe-3",children:"Product"})]})})})}),(0,Y.jsx)(s.Fragment,{children:(0,Y.jsxs)(s.Fragment,{children:[(0,Y.jsx)("div",{className:"d-none d-sm-none d-md-block",children:(0,Y.jsx)("div",{className:"toolbar",id:"kt_toolbar",tabIndex:2,style:{height:bt.length>0?"480px":bt.length<=0&&"on"==Es?"220px":"140px"},children:(0,Y.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-column",children:["on"==Es?(0,Y.jsx)(s.Fragment,{children:(0,Y.jsx)("a",{className:"btn btn-outline btn-outline-dashed  mb-1 mt-10",style:{backgroundColor:"#ffffe0"},children:(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsxs)("div",{className:"col-md-3 ",style:{cursor:"text"},children:[(0,Y.jsx)("span",{className:"badge badge-success",children:"Supplier Mode "})," ",or," -"," ",dr," "]}),(0,Y.jsx)("div",{className:"col-md-8 "}),(0,Y.jsx)("div",{className:"col-md-1",children:(0,Y.jsx)(P.N_,{to:{pathname:"/supplier",state:{id:rr}},children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary ",children:"Back"})})})]})})}):(0,Y.jsx)(s.Fragment,{}),(0,Y.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,Y.jsx)("div",{className:"d-flex align-items-center justify-content-space-between",children:(0,Y.jsx)("a",{className:"btn btn-outline btn-outline-dashed mt-1",style:{cursor:"text"},children:(0,Y.jsxs)("span",{className:" fs-3 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[jt.parent_product_code," ",(0,Y.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2 ",children:"Agg code"})]})})}),""==jt.clean_description?(0,Y.jsx)("div",{className:"d-flex align-items-center justify-content-space-between"}):(0,Y.jsx)("div",{className:"d-flex align-items-center justify-content-space-between",children:(0,Y.jsxs)("a",{className:"btn btn-outline btn-outline-dashed mt-1",style:{cursor:"text"},children:[" ",(0,Y.jsx)("span",{className:" fs-3 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:jt.clean_description})]})}),(0,Y.jsxs)("div",{className:"d-flex align-items-center justify-content-space-between mb-2",children:[(0,Y.jsx)("a",{className:"btn btn-outline btn-outline-dashed mt-1 ",style:{cursor:"text"},children:(0,Y.jsxs)("span",{className:" fs-3 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[jt.dt_pack," ",(0,Y.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2",children:"DT Pack"})]})}),(0,Y.jsx)(m.A,{className:"m-1 p-1",children:(fr||null==fr||void 0==fr)&&(0,Y.jsx)(M.Ay,{className:"btn btn-large",options:[{value:"1",label:(0,Y.jsx)(A,{style:{color:"green",margin:"10px"}})},{value:"2",label:(0,Y.jsx)(k,{style:{color:"red",margin:"10px"}})},{value:"3",label:(0,Y.jsx)(I,{style:{color:"orange",margin:"10px"}})},{value:"4",label:(0,Y.jsx)(Y.Fragment,{children:"NA"})}],value:{value:Nr,label:"1"===Nr||1==Nr?(0,Y.jsx)(A,{style:{color:"green",margin:"10px"}}):"2"===Nr||2==Nr?(0,Y.jsx)(k,{style:{color:"red",margin:"10px"}}):"3"===Nr||3==Nr?(0,Y.jsx)(I,{style:{color:"orange",margin:"10px"}}):(0,Y.jsx)(Y.Fragment,{children:"NA"})},onChange:e=>{wl(e.value)},isSearchable:!1})})]}),(0,Y.jsx)("div",{className:"p-4 m-8 btn btn-icon btn-primary",onClick:()=>{Tl()},title:"Create New PO",id:"abcd",children:(0,Y.jsx)("a",{children:(0,Y.jsx)("i",{className:"fas fa-shopping-cart fs-4 me-1 "})})})]}),(0,Y.jsx)(ce,{disableInput:Ws,percentage:Vs,setpercentage:Zs,volume:Qs,setvolume:Us,EditClick:()=>{Hs("true")},SaveClick:()=>{if(Hs("false"),null!=Vs&&null!=Qs&&""!=Vs&&""!=Qs){let t={target_percentage:Vs,target_volume:Qs};try{fetch("".concat(R.u.MAIN_ENDPOINT,"/api/change-kpi-details/").concat(W),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){e&&(localStorage.setItem("kpitvolume",t.target_volume),localStorage.setItem("kpitpercentage",t.target_percentage),c.Ay.success(e.data))})),e.status})).catch((function(e){}))}catch(e){console.log("error",e)}}else c.Ay.error("Value should not be empty while updating KPI Data")},sigmaPCA:ar,SetdisableInput:Hs}),bt.length>0?(0,Y.jsx)("div",{className:"card ",tabIndex:1,children:(0,Y.jsx)("div",{className:"table-responsive h-300px",children:bt.map((e=>(0,Y.jsx)("div",{className:"align-items-center mb-1 p-1",children:(0,Y.jsx)("div",{className:"flex-grow-1 ",children:(0,Y.jsxs)(h.A,{type:"primary",className:" btn-light-primary",onClick:()=>(e=>{vt([]);let t=e;v(!0),H(void 0!=t?t.prod_id:18213),El(t),Yl(t),ml(t),jl(t),bl(t),vl(t),ul(t),pl(t),Fl(),gl(t),Fs(""),mt({}),Nl(t),Al(t),Sl(t),xl(t),il(t),vt([]),Ys("off"),Hs("false"),vt([])})(e),children:[e.parent_product_code," \xa0\xa0\xa0\xa0"," ",e.clean_description]})})})))})}):null]})})}),(0,Y.jsx)("div",{className:"d-sm-block d-md-none",children:(0,Y.jsxs)("div",{className:"card mb-4 p-2",children:["on"==Es?(0,Y.jsx)(s.Fragment,{children:(0,Y.jsx)("a",{className:"btn btn-outline btn-outline-dashed ",style:{backgroundColor:"#ffffe0"},children:(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsxs)("div",{className:"col-sm-12",style:{cursor:"text"},children:[(0,Y.jsx)("span",{className:"badge badge-success",children:"Supplier Mode "})," ",or," -"," ",dr," "]}),(0,Y.jsx)("div",{className:"col-md-8 "}),(0,Y.jsx)("div",{className:"col-md-1",children:(0,Y.jsx)(P.N_,{to:{pathname:"/supplier",state:{id:rr}},children:(0,Y.jsx)("button",{className:"btn btn-sm btn-primary ",children:"Back"})})})]})})}):(0,Y.jsx)(s.Fragment,{}),(0,Y.jsxs)("div",{className:"p-3",children:[(0,Y.jsxs)("h5",{className:"card-title d-flex",children:[" ",(0,Y.jsx)("a",{className:"mx-2",style:{cursor:"text"},children:(0,Y.jsxs)("span",{className:" fs-5 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[jt.parent_product_code," ",(0,Y.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2 ",children:"Agg code"})]})})," ",(0,Y.jsx)("br",{})," ",(0,Y.jsxs)("a",{className:"",style:{cursor:"text"},children:[" ",(0,Y.jsx)("span",{className:" fs-5 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:jt.clean_description})]})," ",(0,Y.jsx)("br",{})," ",(0,Y.jsx)("a",{className:"mx-2",style:{cursor:"text"},children:(0,Y.jsxs)("span",{className:" fs-5 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:[jt.dt_pack," ",(0,Y.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8 header-custom-2",children:"DT Pack"})]})})," "]}),(0,Y.jsx)("div",{className:"",children:(0,Y.jsxs)("div",{className:"row ",children:[(0,Y.jsxs)("div",{className:"col-6",children:[(null==Nr||0==Nr)&&(0,Y.jsx)("span",{className:"fs-4 btn btn-sm btn-outline btn-outline-dashed btn-outline-primary btn-active-light-primary btn-active-light-info",style:{color:"rgb(138, 38, 80)"},onClick:e=>{wl(1)},children:"PI"}),1==Nr&&(0,Y.jsx)(A,{style:{color:"green",fontSize:"30px",margin:"10px"},onClick:e=>{wl(2)}}),2==Nr&&(0,Y.jsx)(k,{style:{color:"red",margin:"10px"},onClick:e=>{wl(3)}}),3==Nr&&(0,Y.jsx)(I,{style:{color:"orange",margin:"10px"},onClick:e=>{wl(0)}})]}),(0,Y.jsx)("div",{className:"col-6",style:{textAlign:"right"},children:(0,Y.jsx)("div",{className:" btn btn-icon btn-primary",onClick:()=>{Tl()},title:"Create New PO",id:"abcd",children:(0,Y.jsx)("a",{children:(0,Y.jsx)("i",{className:"fas fa-shopping-cart fs-4 me-1 "})})})})]})})]})]})})]})}),(0,Y.jsx)("div",{className:"  mt-4 mb-4",children:(0,Y.jsxs)("h4",{className:"p-2 btn btn-light text-dark",style:{fontWeight:"600"},children:["ARI Volume  :",el||"-"]})}),(0,Y.jsx)(re,{tagCurrent:Se,onDisableTag:Cl}),(0,Y.jsxs)("div",{className:"row gy-5 g-xl-10",children:[1==C?(0,Y.jsx)(o.A,{loading:C,active:!0}):(0,Y.jsx)(le,{contract:Ls}),(0,Y.jsx)(ne,{sigmausage:Js,sigmausageaddition:$s,sigmausagepercentage:er,sigmaPCA:ar,volume:Qs})]}),(0,Y.jsxs)("div",{className:"row gy-5 g-xl-10",children:[1==C?(0,Y.jsx)(o.A,{loading:C,active:!0}):(0,Y.jsx)(B,{setActiveTab:ol,activeTab:cl,AllComments:et,onSortUsageTable:e=>{let t=ue;if("M1"==e){if("Asc"==za){Ba("Desc");let e=t.sort(((e,t)=>parseFloat(e.m1)-parseFloat(t.m1)));xe(e)}if("Desc"==za){Ba("Asc");let e=t.sort(((e,t)=>parseFloat(t.m1)-parseFloat(e.m1)));xe(e)}}if("M2"==e){if("Asc"==Ga){Ra("Desc");let e=t.sort(((e,t)=>parseFloat(e.m2)-parseFloat(t.m2)));xe(e)}if("Desc"==Ga){Ra("Asc");let e=t.sort(((e,t)=>parseFloat(t.m2)-parseFloat(e.m2)));xe(e)}}if("M3"==e){if("Asc"==La){qa("Desc");let e=t.sort(((e,t)=>parseFloat(e.m3)-parseFloat(t.m3)));xe(e)}if("Desc"==La){qa("Asc");let e=t.sort(((e,t)=>parseFloat(t.m3)-parseFloat(e.m3)));xe(e)}}if("Avg"==e){if("Asc"==Wa){Ha("Desc");let e=t.sort(((e,t)=>parseFloat(e.average)-parseFloat(t.average)));xe(e)}if("Desc"==Wa){Ha("Asc");let e=t.sort(((e,t)=>parseFloat(t.average)-parseFloat(e.average)));xe(e)}}},ProductId:W,Background:at,setIsModalOpen:Yr,assigned_to_me:Jr}),(0,Y.jsx)(q,{})]}),(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(ae,{ProductId:W,Supplier:ha,SummuryPricing:zs,SummuryUsage:Gs})}),1==f?(0,Y.jsx)(o.A,{loading:f,active:!0}):(0,Y.jsx)("div",{className:"row g-5 gx-xxl-8",children:(0,Y.jsx)("div",{className:"col-xxl-12",children:(0,Y.jsx)("div",{className:"card-xxl-stretch  mb-xxl-8",children:(0,Y.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,Y.jsxs)("div",{className:"card",children:[(0,Y.jsx)("div",{className:"card-header border-0 pt-2",children:(0,Y.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,Y.jsxs)("span",{className:"card-label fw-bolder fs-3 ",style:{color:"rgb(138, 38, 80)"},children:["ARI Indicator"," "]})})}),(0,Y.jsx)(Y.Fragment,{}),(0,Y.jsxs)("div",{className:"tab-pane fade show active",id:"cur",role:"tabpanel",children:[(0,Y.jsx)(p.A,{columns:dl,dataSource:Gr,pagination:!1}),(0,Y.jsx)("div",{className:"p-4",children:(null===Gr||void 0===Gr?void 0:Gr.length)>0&&(0,Y.jsx)("button",{className:"btn btn-sm btn-primary w-40 ",onClick:()=>{Hr(!0)},children:(0,Y.jsx)("span",{className:"indicator-label",children:"View More"})})})]})]})})})})}),1==N?(0,Y.jsx)(o.A,{loading:N,active:!0}):(0,Y.jsx)(s.Fragment,{children:(0,Y.jsx)(G,{onSortGrnTable:e=>{let t=je;if("Price"==e){if("Asc"==ba){va("Desc");let e=t.sort(((e,t)=>parseFloat(e.Grn_Price)-parseFloat(t.Grn_Price)));ge(e)}if("Desc"==ba){va("Asc");let e=t.sort(((e,t)=>parseFloat(t.Grn_Price)-parseFloat(e.Grn_Price)));ge(e)}}if("Qty"==e){if("Asc"==fa){ya("Desc");let e=t.sort(((e,t)=>parseFloat(e.Grn_Qty)-parseFloat(t.Grn_Qty)));ge(e)}if("Desc"==fa){ya("Asc");let e=t.sort(((e,t)=>parseFloat(t.Grn_Qty)-parseFloat(e.Grn_Qty)));ge(e)}}if("PackSize"==e){if("Asc"==ka){wa("Desc");let e=t.sort(((e,t)=>parseFloat(e.Pack_Size)-parseFloat(t.Pack_Size)));ge(e)}if("Desc"==ka){wa("Asc");let e=t.sort(((e,t)=>parseFloat(t.Pack_Size)-parseFloat(e.Pack_Size)));ge(e)}}if("GrnNo"==e){if("Asc"==Pa){Fa("Desc");let e=t.sort(((e,t)=>parseFloat(e.Grn_No)-parseFloat(t.Grn_No)));ge(e)}if("Desc"==Pa){Fa("Asc");let e=t.sort(((e,t)=>parseFloat(t.Grn_No)-parseFloat(e.Grn_No)));ge(e)}}if("RecieptDate"==e){if("Asc"==Ta){Ma("Desc");let e=t.sort(((e,t)=>T()(e.Receipt_Date).unix()-T()(t.Receipt_Date).unix()));ge(e)}if("Desc"==Ta){Ma("Asc");let e=t.sort(((e,t)=>T()(t.Receipt_Date).unix()-T()(e.Receipt_Date).unix()));ge(e)}}},GrnSortPrice:ba,GRNQ:Sa,grn:je,ProductId:W,GRNPr:Na,GrnSortQty:fa,GrnSortPackSize:ka,GrnPackSize:Ca,GrnSortGrnNo:Pa,GrnGrnNo:Da,GrnSortRecieptDate:Ta,RecieptDate:Ea})}),1==_?(0,Y.jsx)(o.A,{loading:_,active:!0}):(0,Y.jsx)(s.Fragment,{children:(0,Y.jsx)(z,{InventoryPS1:us,InventorySortPS1:es,InventorySortPS:$a,InventorySortAS:as,InventorySortAA:rs,onSortInventoryTable:e=>{let t=be;if("PS"==e){if("Asc"==$a){Xa("Desc");let e=t.sort(((e,t)=>parseFloat(e.Physical_Stock)-parseFloat(t.Physical_Stock)));ve(e)}if("Desc"==$a){Xa("Asc");let e=t.sort(((e,t)=>parseFloat(t.Physical_Stock)-parseFloat(e.Physical_Stock)));ve(e)}}if("PS1"==e){if("Asc"==es){ts("Desc");let e=t.sort(((e,t)=>parseFloat(e.phyStock1)-parseFloat(t.phyStock1)));ve(e)}if("Desc"==es){ts("Asc");let e=t.sort(((e,t)=>parseFloat(t.phyStock1)-parseFloat(e.phyStock1)));ve(e)}}if("AS"==e){if("Asc"==as){ss("Desc");let e=t.sort(((e,t)=>parseFloat(e.Allocation_Stock)-parseFloat(t.Allocation_Stock)));ve(e)}if("Desc"==as){ss("Asc");let e=t.sort(((e,t)=>parseFloat(t.Allocation_Stock)-parseFloat(e.Allocation_Stock)));ve(e)}}if("AA"==e){if("Asc"==rs){ls("Desc");let e=t.sort(((e,t)=>parseFloat(e.Allocation_After)-parseFloat(t.Allocation_After)));ve(e)}if("Desc"==rs){ls("Asc");let e=t.sort(((e,t)=>parseFloat(t.Allocation_After)-parseFloat(e.Allocation_After)));ve(e)}}if("FS"==e){if("Asc"==ns){cs("Desc");let e=t.sort(((e,t)=>parseFloat(e.Free_stock)-parseFloat(t.Free_stock)));ve(e)}if("Desc"==ns){cs("Asc");let e=t.sort(((e,t)=>parseFloat(t.Free_stock)-parseFloat(e.Free_stock)));ve(e)}}if("OO"==e){if("Asc"==os){is("Desc");let e=t.sort(((e,t)=>parseFloat(e.On_Order)-parseFloat(t.On_Order)));ve(e)}if("Desc"==os){is("Asc");let e=t.sort(((e,t)=>parseFloat(t.On_Order)-parseFloat(e.On_Order)));ve(e)}}if("SC"==e){if("Asc"==ds){ms("Desc");let e=t.sort(((e,t)=>parseFloat(e.Std_Cost)-parseFloat(t.Std_Cost)));ve(e)}if("Desc"==ds){ms("Asc");let e=t.sort(((e,t)=>parseFloat(t.Std_Cost)-parseFloat(e.Std_Cost)));ve(e)}}if("TC"==e){if("Asc"==hs){ps("Desc");let e=t.sort(((e,t)=>parseFloat(e.True_Cost)-parseFloat(t.True_Cost)));ve(e)}if("Desc"==hs){ps("Asc");let e=t.sort(((e,t)=>parseFloat(t.True_Cost)-parseFloat(e.True_Cost)));ve(e)}}},InventoryPS:js,InventoryAS:bs,InventoryAA:fs,InventoryFS:Ns,InventorySortFS:ns,InventoryOO:Ss,InventorySortOO:os,InventorySC:ks,InventorySortSC:ds,InventoryTC:Cs,InventorySortTC:hs,inventory:be,total_phy_stock1:Ct,total_phy_stock_other:Pt,ari_volume:Dt,inventoryAllocStock:Nt,inventoryAllocAft:ft,inventoryFreeStock:St,inventoryOnOrder:kt,inventoryStdCost:Tt,inventoryTrueCost:Et})}),(0,Y.jsx)("div",{className:"modal fade",id:"attach_tag","aria-hidden":"true",children:(0,Y.jsx)("div",{className:"modal-dialog modal-xl",children:(0,Y.jsxs)("div",{className:"modal-content",children:[(0,Y.jsx)("div",{className:"modal-header pb-0 border-0 justify-content-end",children:(0,Y.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:()=>Il(),children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})}),(0,Y.jsxs)("div",{className:"modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15",children:[(0,Y.jsx)("div",{className:"container",children:(0,Y.jsx)("div",{className:"row",children:(0,Y.jsxs)("div",{className:"col-sm col-md",children:[(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsxs)("h1",{className:"mb-1",style:{color:"rgb(138, 38, 80)"},children:["Attach Tag for ",jt?jt.parent_product_code:" - "]})}),(0,Y.jsxs)("form",{className:"form",children:[(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{span:11,children:(0,Y.jsxs)("div",{className:"fv-row mb-10",children:[(0,Y.jsx)("label",{className:"form-label fs-6 fw-bolder required text-dark text-left",children:"Tag :"}),(0,Y.jsx)(M.Ay,{value:Pe,onChange:e=>Fe(e),options:fe,onFocus:()=>Bt(!1)}),1==zt?(0,Y.jsx)("span",{role:"alert",className:"text-danger",children:"Tag is Required"}):null]})}),(0,Y.jsx)(d.A,{span:2}),(0,Y.jsx)(d.A,{span:11,children:(0,Y.jsxs)("div",{className:"fv-row mb-10",children:[(0,Y.jsx)("label",{className:"form-label fs-6 fw-bolder text-dark text-left",children:"Severity :"}),(0,Y.jsx)(M.Ay,{value:De,onChange:e=>Oe(e),options:Ne})]})})]}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{span:10}),(0,Y.jsx)(d.A,{span:4,children:(0,Y.jsx)("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-sm btn-primary w-40 mb-5",onClick:e=>{if(e.preventDefault(),void 0==Pe.value)return $("#attach_tag").modal("hide"),void c.Ay.warning("Please select tag");const t={tag_id:"".concat(Pe.value),severity:"".concat(De.value)};let a={prod_id:W};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/attach-tag/").concat(W),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){e.json().then((function(e){1==e.success&&(Fe(""),Oe(""),v(!1),bl(a),c.Ay.success(e.data))})),204==e.status&&(Fe(""),Oe(""),v(!1),ml(a))})).catch((function(e){v(!1),Fe(""),Oe("")})),$("#attach_tag").modal("hide")},children:(0,Y.jsx)("span",{className:"indicator-label",children:"Submit"})})}),(0,Y.jsx)(d.A,{span:10})]})]})]})})}),(0,Y.jsx)("div",{className:"separator separator-content border-dark my-4"}),(0,Y.jsxs)("div",{className:"d-flex flex-row ",children:[(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-success me-2  h-15px w-15px"})," LOW"]}),(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-warning me-2  h-15px w-15px"})," ","MEDIUM"]}),(0,Y.jsxs)("li",{className:"d-flex align-items-center m-2",children:[(0,Y.jsx)("span",{className:"bullet bullet-dot bg-danger me-2  h-15px w-15px"})," HIGH"]})]}),(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsxs)("h1",{className:"mb-3",style:{color:"rgb(138, 38, 80)"},children:["Historical Tags",(0,Y.jsx)("sub",{className:"",style:{color:"black"},children:"( Last 6 months )"})]})}),(0,Y.jsx)(p.A,{columns:[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>1==t.severity?(0,Y.jsxs)(Y.Fragment,{children:[e," ",(0,Y.jsx)("span",{className:"bullet bullet-dot bg-success me-1  h-15px w-15px"})]}):2==t.severity?(0,Y.jsxs)(Y.Fragment,{children:[e," ",(0,Y.jsx)("span",{className:"bullet bullet-dot bg-warning me-1  h-15px w-15px"})]}):3==t.severity?(0,Y.jsxs)(Y.Fragment,{children:[e," ",(0,Y.jsx)("span",{className:"bullet bullet-dot bg-danger me-1  h-15px w-15px"})]}):void 0},{title:"Start Date",dataIndex:"start_date",key:"start_date",render:e=>(0,Y.jsxs)(Y.Fragment,{children:[" ",T()(e).format("DD-MMM-YYYY")]})},{title:"End Date",dataIndex:"end_date",key:"end_date",render:e=>(0,Y.jsxs)(Y.Fragment,{children:[" ",T()(e).format("DD-MMM-YYYY")]})}],dataSource:ke,pagination:!1,scroll:{y:300},style:{zIndex:"-1 !important"}})]})]})})}),(0,Y.jsx)("div",{className:"modal fade",id:"all_tag_current","aria-hidden":"true",children:(0,Y.jsx)("div",{className:"modal-dialog mw-650px",children:(0,Y.jsxs)("div",{className:"modal-content",children:[(0,Y.jsx)("div",{className:"modal-header pb-0 border-0 justify-content-end",children:(0,Y.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal",children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})}),(0,Y.jsx)("div",{className:"modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15",children:(0,Y.jsx)("div",{className:"text-center",children:(0,Y.jsxs)("h1",{className:"mb-1",children:["All Current Tags for ",jt?jt.parent_product_code:" - "]})})}),(0,Y.jsx)("div",{className:"card-body py-1",children:(0,Y.jsx)("div",{className:"table-responsive h-350px",children:(0,Y.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,Y.jsx)("th",{className:"w-25px"}),(0,Y.jsx)("th",{className:"min-w-150px",children:"Tag Name"}),(0,Y.jsx)("th",{className:"min-w-100px",children:"Start Date"}),(0,Y.jsx)("th",{className:"min-w-100px",children:"Unlink Tag"})]})}),(0,Y.jsx)("tbody",{children:void 0!=Se&&Se.map((e=>{if("Price Concession"!=e.source&&"Sigma Monthly Usage"!=e.source)return(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{}),(0,Y.jsx)("td",{children:(0,Y.jsx)(P.N_,{to:{pathname:"/tagDetails",state:e},children:(0,Y.jsx)("span",{className:1==e.severity?"badge badge-light-success fs-5 fw-bolder cursor-pointer":2==e.severity?"badge badge-light-warning fs-5 fw-bolder cursor-pointer":3==e.severity?"badge badge-light-danger fs-5 fw-bolder cursor-pointer":"badge badge-light-success fs-5 fw-bolder cursor-pointer",onClick:()=>{$("#all_tag").modal("hide")},children:e.name})})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6 m-2",children:T()(e.start_date).format("DD-MMM-YYYY")})}),(0,Y.jsx)("td",{children:(0,Y.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6 m-2",children:(0,Y.jsxs)("button",{type:"button",onClick:()=>Cl(e),className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:["\xa0"," ",(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr058.svg",className:"svg-icon-2"})]})})})]})}))})]})})})]})})}),(0,Y.jsx)("div",{className:"modal fade",id:"add_comment","aria-hidden":"true",children:(0,Y.jsx)("div",{className:"modal-dialog mw-650px",children:(0,Y.jsxs)("div",{className:"modal-content",children:[(0,Y.jsx)("div",{className:"modal-header pb-0 border-0 justify-content-end",children:(0,Y.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary",onClick:()=>Il(),children:(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})}),(0,Y.jsxs)("div",{className:"modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15",children:[(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsx)("h1",{className:"mb-3",children:"Add Comment/Background"})}),(0,Y.jsxs)("form",{className:"form",children:[(0,Y.jsx)("div",{className:"fv-row mb-10",children:(0,Y.jsxs)(u.Ay.Group,{onChange:zl,value:br,children:[(0,Y.jsx)(u.Ay,{value:2,children:"Comment"}),(0,Y.jsx)(u.Ay,{value:1,children:"Background"})]})}),(0,Y.jsxs)("div",{className:"mb-5 mt-2",children:["SPOT : ",(0,Y.jsx)("b",{children:"1AMI12"})]}),(0,Y.jsxs)("div",{className:"fv-row mb-10",children:[(0,Y.jsx)("label",{className:"form-label fs-6 fw-bolder required text-dark text-left",children:2==br?"Comment":"Background"}),(0,Y.jsx)("textarea",{name:"textarea_input",value:We,onChange:e=>He(e.target.value),onFocus:()=>Rt(!1),className:"form-control form-control-solid",placeholder:""}),1==Gt?(0,Y.jsx)("span",{role:"alert",className:"text-danger",children:2==br?" Comment is required":"Background is required"}):null]}),2==br?(0,Y.jsx)("div",{className:"row mb-10",children:(0,Y.jsxs)("div",{className:"col-xl-12",children:[(0,Y.jsx)("label",{className:"form-label fs-6 fw-bolder text-dark text-left",children:"Watchlist :"}),(0,Y.jsx)("div",{style:{zIndex:"1000"},"data-control":"select2","data-dropdown-parent":"#add_comment","data-allow-clear":"true",children:(0,Y.jsx)(m.A,{direction:"vertical",style:{width:"100%"},children:(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(M.Ay,{value:ze,isMulti:!0,onChange:e=>Be(e),options:[{value:1,label:"Buyer Intel"},{value:3,label:"Buyer Watchlist"},{value:5,label:"Offers"}],className:"form-select-solid"})})})})]})}):"",2==br?(0,Y.jsx)("div",{className:"row mb-10",children:(0,Y.jsxs)("div",{className:"col-xl-12",children:[(0,Y.jsx)("label",{className:"form-label fs-6 fw-bolder text-dark text-left",children:"Assign To User :"}),(0,Y.jsx)("div",{style:{zIndex:"1000"},"data-control":"select2","data-dropdown-parent":"#add_comment","data-allow-clear":"true",children:(0,Y.jsx)(m.A,{direction:"vertical",style:{width:"100%"},children:(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(M.Ay,{value:Ee,isMulti:!0,isDisabled:Le.length>0,onChange:e=>Ye(e),options:Je,className:"form-select-solid"})})})})]})}):"",(0,Y.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary w-40 mb-5",onClick:e=>{e.preventDefault();let t=new Array;Le.map((e=>{t.push(e.value)}));let a=new Array;if(Ee.map((e=>{a.push(e.value)})),""!=We){const e={user_id:a,role_id:t,comment:"".concat(We),category:br};let s={prod_id:W};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/attach-comment/").concat(W),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){e.json().then((function(e){1==e.success&&(He(""),Ue(""),Ze(""),Me([]),Ye([]),Re([]),qe([]),v(!1),c.Ay.success(e.data),ml(s),Sl(s),vl(s)),0==e.success&&(He(""),Ue(""),Ze(""),Me([]),Ye([]),Re([]),qe([]),v(!1),c.Ay.error(e.data),ml(s),Sl(s),vl(s))})),204==e.status&&(He(""),Ue(""),Ze(""),Me([]),Ye([]),Re([]),qe([]),v(!1))})).catch((function(e){v(!1),He(""),Ue(""),Ze(""),Me([]),Ye([]),Re([]),qe([])})),$("#add_comment").modal("hide")}else Rt(!0)},children:(0,Y.jsx)("span",{className:"indicator-label",children:"Submit"})})]})]})]})})}),(0,Y.jsx)(x.A,{title:"Add Comment / Task / Background",open:Er,onOk:()=>{Yr(!1),ll(null)},onCancel:()=>{Yr(!1),ll(null),vr(2)},footer:null,destroyOnClose:!0,children:(0,Y.jsxs)(n.A,{onFinish:e=>{if(!e.comment&&!e.predefined)return c.Ay.error("Please Add comment or Select from predefined");let t=new Array;Le.map((e=>{t.push(e.value)}));let a=new Array;var s;Ee.map((e=>{a.push(e.value)})),s={type:br,comment:e.comment,user_id:a,product:e.Spot,watchlist:e.Watchlist,comment_id:e.predefined};let r={prod_id:W};fetch("".concat(R.u.MAIN_ENDPOINT,"/api/attach-comment-watchlist/").concat(W),{method:"post",headers:{Authorization:"Bearer ".concat(de),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){e.json().then((function(e){1==e.success&&(Yr(!1),ll(null),c.Ay.success(e.data),vl(r)),0==e.success&&(Yr(!1),c.Ay.error(e.data),vl(r))}))})).catch((function(e){}))},form:t,preserve:!1,children:[(0,Y.jsx)(n.A.Item,{children:(0,Y.jsxs)(u.Ay.Group,{onChange:zl,value:br,defaultValue:2,children:[(0,Y.jsx)(u.Ay,{value:2,children:"Comment"}),(0,Y.jsx)(u.Ay,{value:3,children:"Task"}),(0,Y.jsx)(u.Ay,{value:1,children:"Background"})]})}),(2==br||3==br)&&(0,Y.jsx)(n.A.Item,{label:"Spot",name:"Spot",rules:[{required:!0,message:"Please select spot code"}],children:(0,Y.jsx)(l.A,{style:{width:300,marginLeft:"30px"},options:zr})}),2==br&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(n.A.Item,{label:"Predefined",name:"predefined",rules:[{required:!1,message:"Please enter comment"}],children:(0,Y.jsx)(l.A,{options:al,style:{width:300},allowClear:!0,onChange:e=>{ll(e?"":null)},showSearch:!0})}),2==br&&(0,Y.jsx)(n.A.Item,{label:"Comment",name:"comment",rules:[{required:!1,message:"Please enter comment"}],children:(0,Y.jsx)(oe,{style:{width:300}})})]}),1==br&&(0,Y.jsx)(n.A.Item,{label:"Background",name:"comment",rules:[{required:!0,message:"Please enter background"}],children:(0,Y.jsx)(oe,{style:{width:300}})}),3==br&&(0,Y.jsx)(n.A.Item,{label:"Task",name:"comment",rules:[{required:!0,message:"Please enter task"}],children:(0,Y.jsx)(oe,{style:{width:300,marginLeft:"30px"}})}),2==br&&(0,Y.jsx)(n.A.Item,{label:"Watchlist",name:"Watchlist",rules:[{required:!0,message:"Please select watchlist"}],children:(0,Y.jsx)(l.A,{style:{width:300},options:[{value:1,label:"Buyer Intel"},{value:4,label:"Buyer Watchlist"},{value:5,label:"Offers"}]})}),3==br&&(0,Y.jsx)(n.A.Item,{label:"Assign to user",name:"Assign_to_user",rules:[{required:!0,message:"Please select user"}],children:(0,Y.jsx)(M.Ay,{value:Ee,isMulti:!0,isDisabled:Le.length>0,onChange:e=>Ye(e),options:Je,className:"form-select-solid"})}),(0,Y.jsx)(n.A.Item,{children:(0,Y.jsxs)("div",{className:"text-center",children:[" ",(0,Y.jsx)(h.A,{type:"primary",htmlType:"submit",children:"Submit"})]})})]})}),(0,Y.jsx)(x.A,{centered:!0,destroyOnClose:!0,visible:J,onOk:Ol,onCancel:Ol,footer:null,width:1080,children:(0,Y.jsxs)(n.A,{onFinish:Dl,layout:"vertical",children:[(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsxs)("h1",{className:"mb-1",style:{color:"rgb(138, 38, 80)"},children:["Create PO Item for ",jt?jt.parent_product_code:" - "]})}),(0,Y.jsxs)("div",{className:"row",children:[V.map(((e,t)=>(0,Y.jsx)("div",{className:"col-md-6",children:(0,Y.jsx)(j.A,{spinning:X,children:(0,Y.jsx)(d.A,{span:24,offset:1,children:(0,Y.jsx)(g.A,{style:{borderRadius:10,marginTop:"2%"},children:(0,Y.jsxs)(i.A,{children:[(0,Y.jsxs)(d.A,{span:22,children:[(0,Y.jsx)(i.A,{children:(0,Y.jsx)(d.A,{span:24,children:(0,Y.jsx)(n.A.Item,{name:["aggCode",t],label:"Aggregate Code",initialValue:jt.parent_product_code,rules:[{required:!0,message:"Please select aggregate code"}],children:(0,Y.jsx)(r.A,{disabled:!0})})})}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{span:11,children:"on"===Es?(0,Y.jsx)(n.A.Item,{name:["prodCode",t],label:"Product Code",rules:[{required:!1,message:"Please select aggregate code"}],children:(0,Y.jsx)(l.A,{placeholder:"Please select code",showSearch:!0,optionFilterProp:"children",defaultValue:nr,children:ja.map((e=>(0,Y.jsx)(ie,{value:e.value,children:e.label},e.value)))})}):(0,Y.jsx)(n.A.Item,{name:["prodCode",t],label:"Product Code",rules:[{required:!0,message:"Please select aggregate code"}],children:(0,Y.jsx)(l.A,{placeholder:"Please Select Code",showSearch:!0,optionFilterProp:"children",children:ja.map((e=>(0,Y.jsx)(ie,{value:e.value,children:e.label},e.value)))})})}),(0,Y.jsx)(d.A,{span:1}),(0,Y.jsx)(d.A,{span:11,children:"on"==Es?(0,Y.jsx)(n.A.Item,{name:["suppCode",t],label:"Supplier Code",rules:[{required:!1,message:"Please select supplier code"}],children:(0,Y.jsx)(l.A,{placeholder:"Please select code",showSearch:!0,optionFilterProp:"children",defaultValue:or,children:ha.map((e=>(0,Y.jsx)(ie,{value:e.value,children:e.label},e.value)))})}):(0,Y.jsx)(n.A.Item,{name:["suppCode",t],label:"Supplier Code",rules:[{required:!0,message:"Please select supplier code"}],children:(0,Y.jsx)(l.A,{placeholder:"Please select code",showSearch:!0,optionFilterProp:"children",children:ha.map((e=>(0,Y.jsx)(ie,{value:e.value,children:e.label},e.value)))})})})]}),(0,Y.jsxs)(i.A,{children:[(0,Y.jsx)(d.A,{span:11,children:(0,Y.jsx)(n.A.Item,{name:["qty",t],label:"Quantity",rules:[{required:!0,message:"Please enter quantity"},{pattern:new RegExp(/^[0-9]+$/),message:"value is in number only"}],children:(0,Y.jsx)(r.A,{min:1,style:{width:"100%"}})})}),(0,Y.jsx)(d.A,{span:1}),(0,Y.jsx)(d.A,{span:11,children:"on"==Es?(0,Y.jsx)(n.A.Item,{name:["price",t],label:"Price",rules:[{required:!1,message:"Please enter price"},{pattern:new RegExp(/^[0-9]+$/),message:"value is in number only"}],children:(0,Y.jsx)(r.A,{min:.1,style:{width:"100%"},defaultValue:hr})}):(0,Y.jsx)(n.A.Item,{name:["price",t],label:"Price",rules:[{required:!0,message:"Please enter price"},{pattern:new RegExp(/^[0-9,.,0-9]+$/),message:"value is in number only"}],children:(0,Y.jsx)(r.A,{min:0,style:{width:"100%"}})})}),(0,Y.jsx)(d.A,{span:11,children:"on"==Es?(0,Y.jsx)(n.A.Item,{name:["forecast",t],label:"Forecast",rules:[{required:!1,message:"Please enter price"}],children:(0,Y.jsx)(b.A,{min:1,style:{width:"100%"},defaultValue:ur,readOnly:!0,disabled:!0})}):""})]})]}),(0,Y.jsx)(d.A,{span:1}),(0,Y.jsx)(d.A,{span:1,style:{marginTop:"23%"},children:0!=t&&(0,Y.jsxs)(h.A,{shape:"circle",onClick:()=>(e=>{ee(!0);let t=new Array;new Array,t=V,t.map(((a,s)=>{s==e&&t.splice(s,1)})),setTimeout((function(){ee(!1)}),100)})(t),children:[(0,Y.jsx)(D.aO,{path:"/media/icons/duotune/arrows/arr090.svg",className:"svg-icon-3"})," "]})})]})})})})}))),(0,Y.jsx)("div",{className:"col-md-6",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-dashed  align-middle gs-0 gy-6 main-table ",children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,Y.jsx)("th",{className:"",children:"Product Code"}),(0,Y.jsx)("th",{className:"",children:"Supplier Code"}),(0,Y.jsx)("th",{className:"",children:"price"}),(0,Y.jsx)("th",{className:"",children:"forecast"}),(0,Y.jsx)("th",{className:"",children:" Price Until Date"})]})}),void 0!==Ds?Ds.map((e=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:e.product_code}),(0,Y.jsx)("td",{children:e.supplier_code}),(0,Y.jsxs)("td",{children:[" ","."==e.price.charAt(0)?"0"+e.price:e.price]}),(0,Y.jsx)("td",{children:e.forecast}),(0,Y.jsx)("td",{children:e.price_untill_date})]}))):(0,Y.jsx)("td",{})]})})})]}),(0,Y.jsx)(i.A,{children:(0,Y.jsxs)(h.A,{type:"primary",htmlType:"submit",style:{borderRadius:"5px"},children:[" ","Submit"," "]})})]})}),(0,Y.jsx)(x.A,{centered:!0,destroyOnClose:!0,visible:Q,onOk:Ml,onCancel:Ml,footer:null,width:520,children:(0,Y.jsxs)(n.A,{onFinish:Dl,layout:"vertical",children:[(0,Y.jsx)("div",{className:"text-center mb-13",children:(0,Y.jsx)("h1",{className:"mb-1",style:{color:"rgb(138, 38, 80)"},children:"Summary"})}),(0,Y.jsxs)("div",{className:"row",children:[(0,Y.jsx)("div",{className:"col-md-6 ",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-bordered table-column-bordered align-middle  gy-5 gs-5   main-table ",children:[(0,Y.jsx)("thead",{children:(0,Y.jsx)("tr",{className:"fw-bolder text-muted align-middle",children:(0,Y.jsx)("th",{className:"text-left h2",colSpan:2,children:"Pricing"})})}),(0,Y.jsx)("tbody",{children:void 0!==zs?zs.map(((e,t)=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:e.value}),(0,Y.jsx)("td",{children:e.label})]}))):(0,Y.jsx)(s.Fragment,{})})]})})}),(0,Y.jsx)("div",{className:"col-md-6 ",children:(0,Y.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,Y.jsxs)("table",{className:"table table-row-bordered table-column-bordered align-middle  gy-5 gs-5   main-table ",children:[(0,Y.jsx)("thead",{children:(0,Y.jsx)("tr",{className:"fw-bolder text-muted align-middle",children:(0,Y.jsx)("th",{className:"text-left",colSpan:2,children:"Usage"})})}),(0,Y.jsx)("tbody",{children:void 0!==Gs?Gs.map(((e,t)=>(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("td",{children:e.value}),(0,Y.jsx)("td",{children:e.label})]}))):(0,Y.jsx)(s.Fragment,{})})]})})})]})]})}),(0,Y.jsx)(x.A,{title:"All Ari Details",open:Wr,onOk:e=>{Hr(!1)},onCancel:e=>{Hr(!1)},footer:!1,children:(0,Y.jsx)(p.A,{columns:dl,dataSource:Gr,pagination:!1})})]})})}))},57284:(e,t,a)=>{a.d(t,{A:()=>r});class s{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}s.addZero=e=>{if(null==e)return e;{const t=e;if(!t||""==t||null==t)return;return"."==(null===t||void 0===t?void 0:t.charAt(0))?"0"+t:e}};const r=s},9254:(e,t,a)=>{a.d(t,{A:()=>b});var s=a(58168),r=a(82284),l=a(5544),n=a(98139),c=a.n(n),o=a(62149),i=a(18574),d=a(65043),m=a(35296),h=a(94406),p=a(12701),u=h.A.Option;function x(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}var j=function(e,t){var a,n=e.prefixCls,j=e.className,g=e.popupClassName,b=e.dropdownClassName,v=e.children,f=e.dataSource,y=(0,o.A)(v);if(1===y.length&&(0,p.zO)(y[0])&&!x(y[0])){var N=(0,l.A)(y,1);a=N[0]}var A,S=a?function(){return a}:void 0;return A=y.length&&x(y[0])?v:f?f.map((function(e){if((0,p.zO)(e))return e;switch((0,r.A)(e)){case"string":return d.createElement(u,{key:e,value:e},e);case"object":var t=e.value;return d.createElement(u,{key:t,value:t},e.text);default:return}})):[],d.createElement(m.TG,null,(function(a){var r=(0,a.getPrefixCls)("select",n);return d.createElement(h.A,(0,s.A)({ref:t},(0,i.A)(e,["dataSource"]),{prefixCls:r,popupClassName:g||b,className:c()("".concat(r,"-auto-complete"),j),mode:h.A.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:S}),A)}))},g=d.forwardRef(j);g.Option=u;const b=g},26655:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(64467),r=a(58168),l=a(98139),n=a.n(l),c=a(18574),o=a(65043),i=a(35296),d=a(87063),m=a(30460),h=a(25676),p=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};const u=function(e){var t=e.prefixCls,a=e.className,l=e.hoverable,c=void 0===l||l,d=p(e,["prefixCls","className","hoverable"]);return o.createElement(i.TG,null,(function(e){var l=(0,e.getPrefixCls)("card",t),i=n()("".concat(l,"-grid"),a,(0,s.A)({},"".concat(l,"-grid-hoverable"),c));return o.createElement("div",(0,r.A)({},d,{className:i}))}))};var x=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};var j=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a};const g=function(e){return o.createElement(i.TG,null,(function(t){var a=t.getPrefixCls,s=e.prefixCls,l=e.className,c=e.avatar,i=e.title,d=e.description,m=j(e,["prefixCls","className","avatar","title","description"]),h=a("card",s),p=n()("".concat(h,"-meta"),l),u=c?o.createElement("div",{className:"".concat(h,"-meta-avatar")},c):null,x=i?o.createElement("div",{className:"".concat(h,"-meta-title")},i):null,g=d?o.createElement("div",{className:"".concat(h,"-meta-description")},d):null,b=x||g?o.createElement("div",{className:"".concat(h,"-meta-detail")},x,g):null;return o.createElement("div",(0,r.A)({},m,{className:p}),u,b)}))};var b=o.forwardRef((function(e,t){var a,l=o.useContext(i.QO),p=l.getPrefixCls,j=l.direction,g=o.useContext(d.A),b=e.prefixCls,v=e.className,f=e.extra,y=e.headStyle,N=void 0===y?{}:y,A=e.bodyStyle,S=void 0===A?{}:A,_=e.title,k=e.loading,w=e.bordered,C=void 0===w||w,I=e.size,P=e.type,F=e.cover,D=e.actions,O=e.tabList,T=e.children,M=e.activeTabKey,E=e.defaultActiveTabKey,Y=e.tabBarExtraContent,z=e.hoverable,B=e.tabProps,G=void 0===B?{}:B,R=x(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),L=p("card",b),q=o.createElement(m.A,{loading:!0,active:!0,paragraph:{rows:4},title:!1},T),W=void 0!==M,H=(0,r.A)((0,r.A)({},G),(0,s.A)((0,s.A)({},W?"activeKey":"defaultActiveKey",W?M:E),"tabBarExtraContent",Y)),V=O&&O.length?o.createElement(h.A,(0,r.A)({size:"large"},H,{className:"".concat(L,"-head-tabs"),onChange:function(t){var a;null===(a=e.onTabChange)||void 0===a||a.call(e,t)},items:O.map((function(e){var t;return{label:e.tab,key:e.key,disabled:null!==(t=e.disabled)&&void 0!==t&&t}}))})):null;(_||f||V)&&(a=o.createElement("div",{className:"".concat(L,"-head"),style:N},o.createElement("div",{className:"".concat(L,"-head-wrapper")},_&&o.createElement("div",{className:"".concat(L,"-head-title")},_),f&&o.createElement("div",{className:"".concat(L,"-extra")},f)),V));var Z=F?o.createElement("div",{className:"".concat(L,"-cover")},F):null,Q=o.createElement("div",{className:"".concat(L,"-body"),style:S},k?q:T),U=D&&D.length?o.createElement("ul",{className:"".concat(L,"-actions")},function(e){return e.map((function(t,a){return o.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(a)},o.createElement("span",null,t))}))}(D)):null,J=(0,c.A)(R,["onTabChange"]),K=I||g,$=n()(L,(0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)((0,s.A)({},"".concat(L,"-loading"),k),"".concat(L,"-bordered"),C),"".concat(L,"-hoverable"),z),"".concat(L,"-contain-grid"),function(){var t;return o.Children.forEach(e.children,(function(e){e&&e.type&&e.type===u&&(t=!0)})),t}()),"".concat(L,"-contain-tabs"),O&&O.length),"".concat(L,"-").concat(K),K),"".concat(L,"-type-").concat(P),!!P),"".concat(L,"-rtl"),"rtl"===j),v);return o.createElement("div",(0,r.A)({ref:t},J,{className:$}),a,Z,Q,U)}));b.Grid=u,b.Meta=g;const v=b}}]);
//# sourceMappingURL=846.ba2df1f7.chunk.js.map