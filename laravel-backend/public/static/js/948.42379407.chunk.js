"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[948],{80948:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(65043),s=a(424),c=a(99442),n=a(94539),l=a(86178),o=a.n(l),i=a(44864),d=a(47419),p=a(11645),m=a(30460),u=a(10804),h=a(57284),x=a(70579);let g="";const f=()=>{const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}},b=(0,c.y)((e=>{const[t,a]=(0,r.useState)(f()),[c,l]=(0,r.useState)(!1),[b,j]=(0,r.useState)(!1),[v,y]=(0,r.useState)([]),[N,A]=(0,r.useState)({}),[w,S]=(0,r.useState)([]),[k,I]=(0,r.useState)("Price"),[_,O]=(0,r.useState)("Qty"),[C,P]=(0,r.useState)(""),[D,R]=(0,r.useState)("Receipt_Date"),[G,E]=(0,r.useState)(1),[T,z]=(0,r.useState)(0),[Q,M]=(0,r.useState)(0),[B,F]=(0,r.useState)("Asc"),[L,Y]=(0,r.useState)("Asc"),[H,J]=(0,r.useState)("Asc"),[W,U]=(0,r.useState)("Asc"),[Z,q]=(0,r.useState)("Asc"),[K,V]=(0,r.useState)("Asc"),[X,ee]=(0,r.useState)("Asc"),[te,ae]=(0,r.useState)("Asc");$("body").on("click",(function(e){$(e.currentTarget).is("#kt_body")&&w.length>0&&S([])})),(0,r.useEffect)((()=>{void 0!=e.location.state&&localStorage.setItem("supplierId",e.location.state.id);e.location.state;let t=void 0!=e.location.state?e.location.state.id:localStorage.getItem("supplierId");function r(){a(f())}return P(t),re(t,D,G,T),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)}),[]);const re=(e,t,a,r)=>{let s=e;l(!0),j(!0);try{fetch("".concat(i.u.MAIN_ENDPOINT,"/api/get-supplier-grn/").concat(s,"/").concat(a,"/").concat(t,"/").concat(r),{method:"get",headers:{Authorization:"Bearer ".concat(g),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){y(e.data.grn),A(e.data.header),S([]),M(e.data.rowCount),E(a),j(!1),l(!1)}))}))}catch(c){console.log("ERR>>>",c)}},se=e=>{switch(R(e),z(0==T?1:0),e){case"Grn_Qty":"Asc"==B?(re(localStorage.getItem("supplierId"),e,G,T),F("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),F("Asc"));break;case"Product_Code":"Asc"==L?(re(localStorage.getItem("supplierId"),e,G,T),Y("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),Y("Asc"));break;case"Product_Desc":"Asc"==H?(re(localStorage.getItem("supplierId"),e,G,T),J("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),J("Asc"));break;case"Pack_Size":"Asc"==W?(re(localStorage.getItem("supplierId"),e,G,T),U("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),U("Asc"));break;case"Supplier_Code":"Asc"==Z?(re(localStorage.getItem("supplierId"),e,G,T),q("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),q("Asc"));break;case"Grn_No":"Asc"==K?(re(localStorage.getItem("supplierId"),e,G,T),V("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),V("Asc"));break;case"Grn_Price":"Asc"==X?(re(localStorage.getItem("supplierId"),e,G,T),ee("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),ee("Asc"));break;case"Receipt_Date":"Asc"==te?(re(localStorage.getItem("supplierId"),e,G,T),ae("Desc")):(re(localStorage.getItem("supplierId"),e,G,T),ae("Asc"))}};return g=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,x.jsxs)(r.Fragment,{children:[t.width>850?(0,x.jsx)("div",{className:"row gy-5 gx-xl-4",children:(0,x.jsx)("div",{className:"card",children:w.length>0?(0,x.jsx)("div",{className:"card",tabIndex:1,children:(0,x.jsx)("div",{className:"table-responsive h-350px",children:w.map((e=>(0,x.jsx)("div",{className:"align-items-center mb-2 p-2",children:(0,x.jsx)("div",{className:"flex-grow-1 ",children:(0,x.jsxs)("button",{type:"button",className:"btn btn-md btn-light-primary",onClick:()=>(e=>{let t=e;l(!0),S([]),fetch("".concat(i.u.MAIN_ENDPOINT,"/api/get-supplier-grn/").concat(t.id),{method:"get",headers:{Authorization:"Bearer ".concat(g),Accept:"application/json","Content-Type":"application/json"}}).then((function(t){200==t.status&&t.json().then((function(t){y(t.data.grn),A(t.data.header),j(!1),l(!1),S([]),e=""}))}))})(e),children:[e.name," \xa0\xa0\xa0\xa0 ",e.code]})})})))})}):null})}):null,(0,x.jsx)("div",{className:"d-none d-sm-none d-md-block",children:(0,x.jsxs)(d.A,{style:{marginTop:"4%"},children:[(0,x.jsx)(p.A,{span:20,children:(0,x.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{margin:"1%"},children:[(0,x.jsx)(s.N_,{to:"/home",className:"pe-1",children:(0,x.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,x.jsx)(s.N_,{to:{pathname:"/supplier",state:{id:C}},children:(0,x.jsx)("li",{className:"breadcrumb-item pe-1",children:"Supplier"})}),"/\xa0",(0,x.jsx)("li",{className:"breadcrumb-item pe-3",children:"GRN"})]})}),(0,x.jsx)(p.A,{span:4,children:(0,x.jsx)(s.N_,{to:{pathname:"/supplier",state:{id:C}},children:(0,x.jsx)("button",{className:"btn btn-sm btn-primary ",children:"Back To Supplier"})})})]})}),(0,x.jsx)("div",{className:" d-sm-block d-md-none",children:(0,x.jsxs)(d.A,{style:{marginTop:"4%"},children:[(0,x.jsx)(p.A,{span:16,children:(0,x.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{margin:"1%"},children:[(0,x.jsx)(s.N_,{to:"/home",className:"pe-1",children:(0,x.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,x.jsx)(s.N_,{to:{pathname:"/supplier",state:{id:C}},children:(0,x.jsx)("li",{className:"breadcrumb-item pe-1",children:"Supplier"})}),"/\xa0",(0,x.jsx)("li",{className:"breadcrumb-item pe-3",children:"GRN"})]})}),(0,x.jsx)(p.A,{span:8,children:(0,x.jsx)(s.N_,{to:{pathname:"/supplier",state:{id:C}},children:(0,x.jsx)("button",{className:"btn btn-sm btn-primary ",children:"Back To Supplier"})})})]})}),t.width>800&&(0,x.jsx)(r.Fragment,{children:(0,x.jsx)(r.Fragment,{children:(0,x.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,x.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,x.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between ",children:(0,x.jsx)("a",{className:"btn btn-outline btn-outline-dashed m-1",style:{cursor:"text"},children:(0,x.jsx)("span",{className:"card-label fs-2 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:N.Supplier_Name})})}),(0,x.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between"}),(0,x.jsx)("div",{className:"d-flex align-items-center py-5 justify-content-space-between",children:(0,x.jsx)("a",{className:"btn btn-outline btn-outline-dashed m-1",style:{cursor:"text"},children:(0,x.jsx)("span",{className:"card-label fs-2 mb-1 text-purple header-custom",style:{color:"rgb(138, 38, 80)"},children:N.Supplier_Code})})})]})})})}),(0,x.jsx)("div",{className:"row gy-5 g-xl-10",style:{marginTop:"20px"}}),1==c?(0,x.jsx)(m.A,{loading:c,active:!0}):(0,x.jsx)("div",{className:"row g-5 gx-xl-8",children:(0,x.jsx)("div",{className:"col-xl-12",children:(0,x.jsxs)("div",{className:"card-xxl-stretch mb-4 mb-xxl-7",children:[(0,x.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,x.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,x.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"GRN"})}),(0,x.jsx)("div",{className:"card-toolbar"})]}),(0,x.jsx)("div",{className:"card-body py-3 table-align-left",children:(0,x.jsx)("div",{className:"table-responsive h-600px table-scroll",children:(0,x.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,x.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>se("Product_Code"),children:["Product Code","Desc"!=L?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-100px cursor-pointer",style:{textAlign:"left"},onClick:()=>se("Product_Desc"),children:["Product Description","Desc"!=H?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>se("Pack_Size"),children:["Pack Size","Desc"!=W?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-100px cursor-pointer",onClick:()=>se("Grn_No"),children:["GRN No","Desc"!=K?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-70px",onClick:()=>se("Grn_Price"),children:["GRN Price","Desc"!=X?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-70px ",onClick:()=>se("Grn_Qty"),children:["GRN Qty","Desc"!=B?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]}),(0,x.jsxs)("th",{className:"min-w-100px cursor-pointer ",onClick:()=>{se("Receipt_Date")},children:["Reciept Date","Desc"!=te?(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr062.svg"}):(0,x.jsx)(n.aO,{className:"text-hover-primary",path:"/media/icons/duotune/arrows/arr068.svg"})]})]})}),(0,x.jsx)("tbody",{children:void 0!=v&&v.map((e=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)(s.N_,{to:{pathname:"/product",state:{prod_id:e.Product_Id_Main}},children:(0,x.jsx)("span",{className:"text-danger fw-bolder text-hover-primary d-block fs-6 text-decoration-underline link",children:e.Product_Code})})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",style:{textAlign:"left"},children:e.Product_Desc})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Pack_Size})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_No})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:h.A.addZero(e.price)})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.Grn_Qty})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:o()(e.Receipt_Date).format("DD-MMM-YYYY")})})]})))})]})})})]})}),(0,x.jsx)(u.A,{defaultCurrent:G,defaultPageSize:30,size:"small",total:Q,onChange:t=>{let a=void 0!=e.location.state?e.location.state.id:localStorage.getItem("supplierId");P(a),setTimeout((()=>{re(a,D,t,T)}),1e3),E(t)},style:{margin:"2%"},showQuickJumper:!0,hideOnSinglePage:!0,showSizeChanger:!1})]})})})]})}))},57284:(e,t,a)=>{a.d(t,{A:()=>s});class r{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}r.addZero=e=>{if(null==e)return e;{const t=e;if(!t||""==t||null==t)return;return"."==(null===t||void 0===t?void 0:t.charAt(0))?"0"+t:e}};const s=r},11645:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(30227).A},95150:(e,t,a)=>{a.d(t,{A:()=>r});const r=(0,a(65043).createContext)({})},30227:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(64467),s=a(58168),c=a(82284),n=a(98139),l=a.n(n),o=a(65043),i=a(35296),d=a(95150),p=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};var m=["xs","sm","md","lg","xl","xxl"];const u=o.forwardRef((function(e,t){var a=o.useContext(i.QO),n=a.getPrefixCls,u=a.direction,h=o.useContext(d.A),x=h.gutter,g=h.wrap,f=h.supportFlexGap,b=e.prefixCls,j=e.span,v=e.order,y=e.offset,N=e.push,A=e.pull,w=e.className,S=e.children,k=e.flex,I=e.style,_=p(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),O=n("col",b),C={};m.forEach((function(t){var a={},n=e[t];"number"===typeof n?a.span=n:"object"===(0,c.A)(n)&&(a=n||{}),delete _[t],C=(0,s.A)((0,s.A)({},C),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(O,"-").concat(t,"-").concat(a.span),void 0!==a.span),"".concat(O,"-").concat(t,"-order-").concat(a.order),a.order||0===a.order),"".concat(O,"-").concat(t,"-offset-").concat(a.offset),a.offset||0===a.offset),"".concat(O,"-").concat(t,"-push-").concat(a.push),a.push||0===a.push),"".concat(O,"-").concat(t,"-pull-").concat(a.pull),a.pull||0===a.pull),"".concat(O,"-rtl"),"rtl"===u))}));var P=l()(O,(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(O,"-").concat(j),void 0!==j),"".concat(O,"-order-").concat(v),v),"".concat(O,"-offset-").concat(y),y),"".concat(O,"-push-").concat(N),N),"".concat(O,"-pull-").concat(A),A),w,C),D={};if(x&&x[0]>0){var R=x[0]/2;D.paddingLeft=R,D.paddingRight=R}if(x&&x[1]>0&&!f){var G=x[1]/2;D.paddingTop=G,D.paddingBottom=G}return k&&(D.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(k),!1!==g||D.minWidth||(D.minWidth=0)),o.createElement("div",(0,s.A)({},_,{style:(0,s.A)((0,s.A)({},D),I),className:P,ref:t}),S)}))},28821:(e,t,a)=>{a.d(t,{A:()=>f});var r=a(58168),s=a(64467),c=a(82284),n=a(5544),l=a(98139),o=a.n(l),i=a(65043),d=a(35296),p=a(46058),m=a(19304),u=a(29592),h=a(95150),x=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a};(0,u.P)("top","middle","bottom","stretch"),(0,u.P)("start","end","center","space-around","space-between","space-evenly");function g(e,t){var a=i.useState("string"===typeof e?e:""),r=(0,n.A)(a,2),s=r[0],l=r[1];return i.useEffect((function(){!function(){if("string"===typeof e&&l(e),"object"===(0,c.A)(e))for(var a=0;a<m.ye.length;a++){var r=m.ye[a];if(t[r]){var s=e[r];if(void 0!==s)return void l(s)}}}()}),[JSON.stringify(e),t]),s}const f=i.forwardRef((function(e,t){var a=e.prefixCls,l=e.justify,u=e.align,f=e.className,b=e.style,j=e.children,v=e.gutter,y=void 0===v?0:v,N=e.wrap,A=x(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),w=i.useContext(d.QO),S=w.getPrefixCls,k=w.direction,I=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),_=(0,n.A)(I,2),O=_[0],C=_[1],P=i.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),D=(0,n.A)(P,2),R=D[0],G=D[1],E=g(u,R),T=g(l,R),z=(0,p.A)(),Q=i.useRef(y);i.useEffect((function(){var e=m.Ay.subscribe((function(e){G(e);var t=Q.current||0;(!Array.isArray(t)&&"object"===(0,c.A)(t)||Array.isArray(t)&&("object"===(0,c.A)(t[0])||"object"===(0,c.A)(t[1])))&&C(e)}));return function(){return m.Ay.unsubscribe(e)}}),[]);var M=S("row",a),B=function(){var e=[void 0,void 0];return(Array.isArray(y)?y:[y,void 0]).forEach((function(t,a){if("object"===(0,c.A)(t))for(var r=0;r<m.ye.length;r++){var s=m.ye[r];if(O[s]&&void 0!==t[s]){e[a]=t[s];break}}else e[a]=t})),e}(),F=o()(M,(0,s.A)((0,s.A)((0,s.A)((0,s.A)({},"".concat(M,"-no-wrap"),!1===N),"".concat(M,"-").concat(T),T),"".concat(M,"-").concat(E),E),"".concat(M,"-rtl"),"rtl"===k),f),L={},Y=null!=B[0]&&B[0]>0?B[0]/-2:void 0,H=null!=B[1]&&B[1]>0?B[1]/-2:void 0;if(Y&&(L.marginLeft=Y,L.marginRight=Y),z){var J=(0,n.A)(B,2);L.rowGap=J[1]}else H&&(L.marginTop=H,L.marginBottom=H);var W=(0,n.A)(B,2),$=W[0],U=W[1],Z=i.useMemo((function(){return{gutter:[$,U],wrap:N,supportFlexGap:z}}),[$,U,N,z]);return i.createElement(h.A.Provider,{value:Z},i.createElement("div",(0,r.A)({},A,{className:F,style:(0,r.A)((0,r.A)({},L),b),ref:t}),j))}))},47419:(e,t,a)=>{a.d(t,{A:()=>r});const r=a(28821).A}}]);
//# sourceMappingURL=948.42379407.chunk.js.map