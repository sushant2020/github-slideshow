"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[42],{75042:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var a=t(65043),r=t(97),l=t(424),c=t(99442),n=t(94539),d=t(48414),i=t(86178),o=t.n(i),m=t(47419),x=t(11645),h=t(89421),p=t(44864),b=t(70579);let u="";const f=(0,c.y)((function(e){const s=(0,r.A)(),[t,c]=(0,a.useState)(!1),[i,f]=(0,a.useState)({}),[j,N]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),[y,w]=(0,a.useState)(!1),[A,k]=(0,a.useState)([]),[O,P]=(0,a.useState)("");(0,a.useEffect)((()=>{let s=e.location.state;C(s)}),[]);const C=e=>{void 0==e&&(e={supplierid:"13195",productid:"26961"});try{fetch("".concat(p.u.MAIN_ENDPOINT,"/api/get-supplier-product-pc-po-data/").concat(e?e.supplierid:"","/").concat(e?e.productid:""),{method:"get",headers:{Authorization:"Bearer ".concat(u),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200!=e.status&&(localStorage.clear(),window.location.reload()),e.json().then((function(e){f(e.data.supplier),N(e.data.supplier_with_product),g(e.data.supplier_with_po),c(!1)}))})).catch((function(e){c(!1)}))}catch(s){}};return u=JSON.parse(localStorage.getItem("portalUserDataToken")||""),(0,b.jsx)(a.Fragment,{children:1==t?(0,b.jsx)("div",{style:{marginLeft:"50%"},children:(0,b.jsx)("div",{className:"spinner-border m-2",role:"status",children:(0,b.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(0,b.jsxs)(a.Fragment,{children:[(0,b.jsxs)("ol",{className:"breadcrumb breadcrumb-dot fs-6 fw-bold",style:{margin:"1%"},children:[(0,b.jsx)(l.N_,{to:"/home",className:"pe-1 cursor-pointer",children:(0,b.jsx)("li",{className:"breadcrumb-item pe-1",children:"Home"})}),"/ \xa0",(0,b.jsx)(l.N_,{to:"/product",className:"pe-1 cursor-pointer",children:(0,b.jsx)("li",{className:"breadcrumb-item pe-1",children:"Product"})}),"/ \xa0",(0,b.jsx)("li",{className:"breadcrumb-item pe-3",children:"Supplier-Product Details"})]}),(0,b.jsx)(d.sT,{breadcrumbs:[],children:s.formatMessage({id:"MENU.DASHBOARD"})}),(0,b.jsxs)("div",{className:"row gy-5 g-xl-10",style:{marginTop:"1%"},children:[(0,b.jsx)("div",{className:"col-xl-6",children:(0,b.jsx)("div",{className:"card-xxl-stretch mb-5 mb-xxl-8",children:(0,b.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"card-header border-0 pt-2",style:{alignSelf:"center"},children:(0,b.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,b.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:i.Supplier_Code}),(0,b.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8",children:"Supplier Code"})]})})})})})}),(0,b.jsx)("div",{className:"col-xl-6",children:(0,b.jsx)("div",{className:"card-xxl-stretch mb-5 mb-xxl-8",children:(0,b.jsx)("div",{className:"row gy-5 g-xl-7",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"card-header border-0 pt-2",style:{alignSelf:"center"},children:(0,b.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,b.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:i.AC4}),(0,b.jsx)("span",{className:"text-muted mt-1 fw-bold fs-8",children:"Aggregate Code"})]})})})})})})]}),(0,b.jsx)("div",{className:"row g-5 gx-xxl-8",children:(0,b.jsx)("div",{className:"col-xxl-12",children:(0,b.jsx)("div",{className:"card-xxl-stretch mb-5 mb-xxl-8",children:(0,b.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,b.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,b.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"Supplier-Products Details"})}),(0,b.jsx)("div",{className:"card-toolbar"})]}),(0,b.jsx)("div",{className:"card-body py-3 ",children:(0,b.jsx)("div",{className:"table-responsive h-350px",children:(0,b.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,b.jsx)("th",{className:"w-10px"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Aggregate Code"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Product Code"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Description"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Price"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Price From Date"}),(0,b.jsx)("th",{className:"min-w-80px",children:"Forecast"}),(0,b.jsx)("th",{className:"min-w-70px",children:"Comment"})]})}),(0,b.jsx)("tbody",{children:void 0!=j&&j.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.productcode})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.child_code?e.child_code:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.description})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.price?e.price:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.price_from_date?o()(e.price_from_date).format("DD-MMMM-YYYY"):"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.forecast?e.forecast:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.comments?e.comments:"-"})})]})))})]})})})]})})})})}),(0,b.jsx)("div",{className:"row g-5 gx-xxl-8",children:(0,b.jsx)("div",{className:"col-xxl-12",children:(0,b.jsx)("div",{className:"card-xxl-stretch mb-5 mb-xxl-8",children:(0,b.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,b.jsx)("div",{className:"card",children:(0,b.jsx)("div",{className:"row g-5 gx-xxl-8",style:{marginTop:"1%"},children:(0,b.jsx)("div",{className:"col-xxl-12",children:(0,b.jsx)("div",{className:"card-xxl-stretch mb-5 mb-xxl-8",children:(0,b.jsx)("div",{className:"row gy-5 g-xl-4",children:(0,b.jsxs)("div",{className:"card",children:[(0,b.jsxs)("div",{className:"card-header border-0 pt-2",children:[(0,b.jsx)("h3",{className:"card-title align-items-start flex-column",children:(0,b.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",style:{color:"rgb(138, 38, 80)"},children:"PO List"})}),(0,b.jsx)("div",{className:"card-toolbar","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Click to Download List as CSV",style:{display:"none"},id:"csv-button",children:(0,b.jsx)("button",{type:"button",className:"btn btn-sm btn-primary",children:(0,b.jsx)(n.aO,{path:"/media/icons/duotune/arrows/arr065.svg",className:"svg-icon-2"})})}),(0,b.jsx)("div",{className:"card-toolbar","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-trigger":"hover",title:"Click to Create New PO"})]}),(0,b.jsx)("div",{className:"card-body py-3 ",children:(0,b.jsx)("div",{className:"tab-content",id:"myTabContent",children:(0,b.jsx)("div",{className:"tab-pane fade show active",id:"latestPO",role:"tabpanel",children:(0,b.jsxs)(m.A,{children:[(0,b.jsx)(x.A,{span:12,children:(0,b.jsx)("div",{className:"table-responsive h-350px table-scroll",children:(0,b.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4 main-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,b.jsx)("th",{className:"min-w-50px",children:"PO-Number"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Raised By"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Raised At"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Status"})]})}),(0,b.jsx)("tbody",{children:void 0!=v&&v.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-danger fw-bolder text-hover-primary d-block fs-6 cursor-pointer text-decoration-underline link",onClick:()=>(e=>{const s=document.getElementById("csv-button");"none"==(null===s||void 0===s?void 0:s.style.display)&&(s.style.display="block");let t=e;w(!0);try{fetch("".concat(p.u.MAIN_ENDPOINT,"/api/get-poitems/").concat(t.po_id),{method:"get",headers:{Authorization:"Bearer ".concat(u),Accept:"application/json","Content-Type":"application/json"}}).then((function(e){200==e.status?e.json().then((function(e){k(e.data),P(t.po_num),w(!1)})):c(!1)})).catch((function(e){c(!1)}))}catch(a){c(!1)}})(e),children:e.po_num})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.created_by?e.created_by:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.created_at?o()(e.created_at).format("DD-MMM-YYYY"):"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"d-flex flex-shrink-0",children:"0"==e.status?(0,b.jsx)("button",{className:"btn btn-text btn-color-light btn-bg-warning fw-bold btn-sm me-1 min-w-100px",title:"Mark PO as Completed",children:"In Progress"}):"1"==e.status?(0,b.jsx)("button",{className:"btn btn-text btn-color-light btn-bg-success fw-bold btn-sm me-1 min-w-100px",title:"Revert To Pending",children:"Completed"}):"2"==e.status?(0,b.jsx)("button",{className:"btn btn-text btn-color-light btn-bg-danger fw-bold btn-sm me-1 min-w-100px",title:"Revert To Pending",children:"Discarded"}):"-"})})]})))})]})})}),(0,b.jsx)(x.A,{span:1}),(0,b.jsx)(x.A,{span:11,children:(0,b.jsx)("div",{className:"table-responsive h-350px",children:y?(0,b.jsx)("div",{style:{marginLeft:"50%"},children:(0,b.jsx)("div",{className:"spinner-border m-2",role:"status",children:(0,b.jsx)("span",{className:"sr-only",children:"Loading..."})})}):(0,b.jsxs)(b.Fragment,{children:[v.length>0&&(0,b.jsx)(h.A,{type:"dashed",style:{color:"rgb(138, 38, 80)",cursor:"text"},children:O}),(0,b.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"fw-bolder text-muted",children:[(0,b.jsx)("th",{className:"w-20px"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Supplier"}),(0,b.jsx)("th",{className:"min-w-100px",children:"Product Code"}),(0,b.jsx)("th",{className:"min-w-70px cursor-pointer",children:"Quantity"}),(0,b.jsx)("th",{className:"min-w-70px cursor-pointer",children:"Price"})]})}),(0,b.jsx)("tbody",{children:void 0!=A&&A.map((e=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-danger fw-bolder text-hover-primary d-block fs-6 cursor-pointer text-decoration-underline link",children:e.supplier})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.product_code?e.product_code:"-"})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:e.quantity})}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:"text-dark fw-bolder text-hover-primary d-block fs-6",children:"."==e.price.charAt(0)?"0"+e.price:e.price})})]})))})]})]})})})]})})})})]})})})})})})})})})}),(0,b.jsx)("div",{className:"modal fade",id:"po","aria-hidden":"true",children:(0,b.jsx)("div",{className:"modal-dialog mw-650px",children:(0,b.jsxs)("div",{className:"modal-content",children:[(0,b.jsx)("div",{className:"modal-header pb-0 border-0 justify-content-end",children:(0,b.jsx)("div",{className:"btn btn-sm btn-icon btn-active-color-primary","data-bs-dismiss":"modal",children:(0,b.jsx)(n.aO,{path:"/media/icons/duotune/arrows/arr061.svg",className:"svg-icon-1"})})}),(0,b.jsxs)("div",{className:"modal-body scroll-y mx-5 mx-xl-18 pt-0 pb-15",children:[(0,b.jsx)("div",{className:"text-center mb-13",children:(0,b.jsx)("h1",{className:"mb-3",children:"Purchase Order"})}),(0,b.jsxs)("form",{className:"form",children:[(0,b.jsxs)("div",{className:"fv-row mb-10",children:[(0,b.jsx)("label",{className:"form-label fs-6 fw-bolder text-dark text-left",children:"Quantity :"}),(0,b.jsx)("input",{type:"email",className:"form-control form-control-solid",placeholder:""})]}),(0,b.jsxs)("div",{className:"fv-row mb-10",children:[(0,b.jsx)("label",{className:"form-label fs-6 fw-bolder text-dark text-left",children:"Price :"}),(0,b.jsx)("input",{type:"email",className:"form-control form-control-solid",placeholder:""})]}),(0,b.jsx)("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-lg btn-primary w-40 mb-5",children:(0,b.jsx)("span",{className:"indicator-label",children:"Submit"})})]})]})]})})})]})})}))},11645:(e,s,t)=>{t.d(s,{A:()=>a});const a=t(30227).A},95150:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(65043).createContext)({})},30227:(e,s,t)=>{t.d(s,{A:()=>h});var a=t(64467),r=t(58168),l=t(82284),c=t(98139),n=t.n(c),d=t(65043),i=t(35296),o=t(95150),m=function(e,s){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};var x=["xs","sm","md","lg","xl","xxl"];const h=d.forwardRef((function(e,s){var t=d.useContext(i.QO),c=t.getPrefixCls,h=t.direction,p=d.useContext(o.A),b=p.gutter,u=p.wrap,f=p.supportFlexGap,j=e.prefixCls,N=e.span,v=e.order,g=e.offset,y=e.push,w=e.pull,A=e.className,k=e.children,O=e.flex,P=e.style,C=m(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),S=c("col",j),_={};x.forEach((function(s){var t={},c=e[s];"number"===typeof c?t.span=c:"object"===(0,l.A)(c)&&(t=c||{}),delete C[s],_=(0,r.A)((0,r.A)({},_),(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(S,"-").concat(s,"-").concat(t.span),void 0!==t.span),"".concat(S,"-").concat(s,"-order-").concat(t.order),t.order||0===t.order),"".concat(S,"-").concat(s,"-offset-").concat(t.offset),t.offset||0===t.offset),"".concat(S,"-").concat(s,"-push-").concat(t.push),t.push||0===t.push),"".concat(S,"-").concat(s,"-pull-").concat(t.pull),t.pull||0===t.pull),"".concat(S,"-rtl"),"rtl"===h))}));var D=n()(S,(0,a.A)((0,a.A)((0,a.A)((0,a.A)((0,a.A)({},"".concat(S,"-").concat(N),void 0!==N),"".concat(S,"-order-").concat(v),v),"".concat(S,"-offset-").concat(g),g),"".concat(S,"-push-").concat(y),y),"".concat(S,"-pull-").concat(w),w),A,_),E={};if(b&&b[0]>0){var M=b[0]/2;E.paddingLeft=M,E.paddingRight=M}if(b&&b[1]>0&&!f){var T=b[1]/2;E.paddingTop=T,E.paddingBottom=T}return O&&(E.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(O),!1!==u||E.minWidth||(E.minWidth=0)),d.createElement("div",(0,r.A)({},C,{style:(0,r.A)((0,r.A)({},E),P),className:D,ref:s}),k)}))},28821:(e,s,t)=>{t.d(s,{A:()=>f});var a=t(58168),r=t(64467),l=t(82284),c=t(5544),n=t(98139),d=t.n(n),i=t(65043),o=t(35296),m=t(46058),x=t(19304),h=t(29592),p=t(95150),b=function(e,s){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&s.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)s.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};(0,h.P)("top","middle","bottom","stretch"),(0,h.P)("start","end","center","space-around","space-between","space-evenly");function u(e,s){var t=i.useState("string"===typeof e?e:""),a=(0,c.A)(t,2),r=a[0],n=a[1];return i.useEffect((function(){!function(){if("string"===typeof e&&n(e),"object"===(0,l.A)(e))for(var t=0;t<x.ye.length;t++){var a=x.ye[t];if(s[a]){var r=e[a];if(void 0!==r)return void n(r)}}}()}),[JSON.stringify(e),s]),r}const f=i.forwardRef((function(e,s){var t=e.prefixCls,n=e.justify,h=e.align,f=e.className,j=e.style,N=e.children,v=e.gutter,g=void 0===v?0:v,y=e.wrap,w=b(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),A=i.useContext(o.QO),k=A.getPrefixCls,O=A.direction,P=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),C=(0,c.A)(P,2),S=C[0],_=C[1],D=i.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),E=(0,c.A)(D,2),M=E[0],T=E[1],R=u(h,M),I=u(n,M),L=(0,m.A)(),Y=i.useRef(g);i.useEffect((function(){var e=x.Ay.subscribe((function(e){T(e);var s=Y.current||0;(!Array.isArray(s)&&"object"===(0,l.A)(s)||Array.isArray(s)&&("object"===(0,l.A)(s[0])||"object"===(0,l.A)(s[1])))&&_(e)}));return function(){return x.Ay.unsubscribe(e)}}),[]);var B=k("row",t),F=function(){var e=[void 0,void 0];return(Array.isArray(g)?g:[g,void 0]).forEach((function(s,t){if("object"===(0,l.A)(s))for(var a=0;a<x.ye.length;a++){var r=x.ye[a];if(S[r]&&void 0!==s[r]){e[t]=s[r];break}}else e[t]=s})),e}(),Q=d()(B,(0,r.A)((0,r.A)((0,r.A)((0,r.A)({},"".concat(B,"-no-wrap"),!1===y),"".concat(B,"-").concat(I),I),"".concat(B,"-").concat(R),R),"".concat(B,"-rtl"),"rtl"===O),f),G={},z=null!=F[0]&&F[0]>0?F[0]/-2:void 0,H=null!=F[1]&&F[1]>0?F[1]/-2:void 0;if(z&&(G.marginLeft=z,G.marginRight=z),L){var J=(0,c.A)(F,2);G.rowGap=J[1]}else H&&(G.marginTop=H,G.marginBottom=H);var U=(0,c.A)(F,2),W=U[0],q=U[1],V=i.useMemo((function(){return{gutter:[W,q],wrap:y,supportFlexGap:L}}),[W,q,y,L]);return i.createElement(p.A.Provider,{value:V},i.createElement("div",(0,a.A)({},w,{className:Q,style:(0,a.A)((0,a.A)({},G),j),ref:s}),N))}))},47419:(e,s,t)=>{t.d(s,{A:()=>a});const a=t(28821).A}}]);
//# sourceMappingURL=42.4d762936.chunk.js.map